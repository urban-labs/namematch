<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Reference &mdash; namematch 1.2.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=e8fef1db"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Detailed Algorithm Documentation" href="algorithm.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            namematch
          </a>
              <div class="version">
                1.2.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About Name Match</a></li>
<li class="toctree-l1"><a class="reference internal" href="match_setup.html">Setting Up a Match</a></li>
<li class="toctree-l1"><a class="reference internal" href="understanding_results.html">Understanding Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithm.html">Detailed Algorithm Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.namematcher"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.namematcher</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.namematcher.NameMatcher"><code class="docutils literal notranslate"><span class="pre">NameMatcher</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.process_input_data"><code class="docutils literal notranslate"><span class="pre">NameMatcher.process_input_data</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.generate_must_links"><code class="docutils literal notranslate"><span class="pre">NameMatcher.generate_must_links</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.block"><code class="docutils literal notranslate"><span class="pre">NameMatcher.block</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.generate_data_rows"><code class="docutils literal notranslate"><span class="pre">NameMatcher.generate_data_rows</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.fit_model"><code class="docutils literal notranslate"><span class="pre">NameMatcher.fit_model</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.predict"><code class="docutils literal notranslate"><span class="pre">NameMatcher.predict</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.cluster"><code class="docutils literal notranslate"><span class="pre">NameMatcher.cluster</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.generate_output"><code class="docutils literal notranslate"><span class="pre">NameMatcher.generate_output</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.generate_report"><code class="docutils literal notranslate"><span class="pre">NameMatcher.generate_report</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.all_tasks"><code class="docutils literal notranslate"><span class="pre">NameMatcher.all_tasks</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.nm_metadata"><code class="docutils literal notranslate"><span class="pre">NameMatcher.nm_metadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.run"><code class="docutils literal notranslate"><span class="pre">NameMatcher.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.namematcher.NameMatcher.load_namematcher"><code class="docutils literal notranslate"><span class="pre">NameMatcher.load_namematcher()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.data_structures.parameters"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.parameters</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters"><code class="docutils literal notranslate"><span class="pre">Parameters</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.check_integrity"><code class="docutils literal notranslate"><span class="pre">Parameters.check_integrity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.init"><code class="docutils literal notranslate"><span class="pre">Parameters.init()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.load"><code class="docutils literal notranslate"><span class="pre">Parameters.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.load_from_dict"><code class="docutils literal notranslate"><span class="pre">Parameters.load_from_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.check_for_required_variables"><code class="docutils literal notranslate"><span class="pre">Parameters.check_for_required_variables()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.validate_exactmatch_variables"><code class="docutils literal notranslate"><span class="pre">Parameters.validate_exactmatch_variables()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.validate_blocking_scheme"><code class="docutils literal notranslate"><span class="pre">Parameters.validate_blocking_scheme()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.get_blocking_variables"><code class="docutils literal notranslate"><span class="pre">Parameters.get_blocking_variables()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.validate"><code class="docutils literal notranslate"><span class="pre">Parameters.validate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.write"><code class="docutils literal notranslate"><span class="pre">Parameters.write()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.copy"><code class="docutils literal notranslate"><span class="pre">Parameters.copy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.stage_params_lookup"><code class="docutils literal notranslate"><span class="pre">Parameters.stage_params_lookup()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.parameters.Parameters.get_stage_params"><code class="docutils literal notranslate"><span class="pre">Parameters.get_stage_params()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.data_structures.schema"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.schema</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.data_structures.schema.Schema"><code class="docutils literal notranslate"><span class="pre">Schema</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.schema.Schema.init"><code class="docutils literal notranslate"><span class="pre">Schema.init()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.schema.Schema.load"><code class="docutils literal notranslate"><span class="pre">Schema.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.schema.Schema.load_from_dict"><code class="docutils literal notranslate"><span class="pre">Schema.load_from_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.schema.Schema.write"><code class="docutils literal notranslate"><span class="pre">Schema.write()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.data_structures.data_file"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.data_structures.data_file.DataFile"><code class="docutils literal notranslate"><span class="pre">DataFile</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFile.load"><code class="docutils literal notranslate"><span class="pre">DataFile.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFile.validate_existance"><code class="docutils literal notranslate"><span class="pre">DataFile.validate_existance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFile.validate_record_id_col"><code class="docutils literal notranslate"><span class="pre">DataFile.validate_record_id_col()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFile.copy"><code class="docutils literal notranslate"><span class="pre">DataFile.copy()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.data_structures.data_file.NewDataFile"><code class="docutils literal notranslate"><span class="pre">NewDataFile</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.NewDataFile.build"><code class="docutils literal notranslate"><span class="pre">NewDataFile.build()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.data_structures.data_file.ExistingDataFile"><code class="docutils literal notranslate"><span class="pre">ExistingDataFile</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.ExistingDataFile.build"><code class="docutils literal notranslate"><span class="pre">ExistingDataFile.build()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList"><code class="docutils literal notranslate"><span class="pre">DataFileList</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList.build"><code class="docutils literal notranslate"><span class="pre">DataFileList.build()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList.load"><code class="docutils literal notranslate"><span class="pre">DataFileList.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList.get_all_nicknames"><code class="docutils literal notranslate"><span class="pre">DataFileList.get_all_nicknames()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList.validate"><code class="docutils literal notranslate"><span class="pre">DataFileList.validate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList.validate_names"><code class="docutils literal notranslate"><span class="pre">DataFileList.validate_names()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList.write"><code class="docutils literal notranslate"><span class="pre">DataFileList.write()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList.copy"><code class="docutils literal notranslate"><span class="pre">DataFileList.copy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList.get_all_data_files"><code class="docutils literal notranslate"><span class="pre">DataFileList.get_all_data_files()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.data_structures.variable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.variable</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.data_structures.variable.Variable"><code class="docutils literal notranslate"><span class="pre">Variable</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.Variable.build"><code class="docutils literal notranslate"><span class="pre">Variable.build()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.Variable.validate_col_parameters"><code class="docutils literal notranslate"><span class="pre">Variable.validate_col_parameters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.Variable.get_columns_to_read"><code class="docutils literal notranslate"><span class="pre">Variable.get_columns_to_read()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.Variable.get_an_columns"><code class="docutils literal notranslate"><span class="pre">Variable.get_an_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.Variable.copy"><code class="docutils literal notranslate"><span class="pre">Variable.copy()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.data_structures.variable.VariableList"><code class="docutils literal notranslate"><span class="pre">VariableList</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.build"><code class="docutils literal notranslate"><span class="pre">VariableList.build()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.load"><code class="docutils literal notranslate"><span class="pre">VariableList.load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.validate_col_parameters"><code class="docutils literal notranslate"><span class="pre">VariableList.validate_col_parameters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.validate_variable_names"><code class="docutils literal notranslate"><span class="pre">VariableList.validate_variable_names()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.validate_type_counts"><code class="docutils literal notranslate"><span class="pre">VariableList.validate_type_counts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.validate"><code class="docutils literal notranslate"><span class="pre">VariableList.validate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.get_variables_where"><code class="docutils literal notranslate"><span class="pre">VariableList.get_variables_where()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.get_names"><code class="docutils literal notranslate"><span class="pre">VariableList.get_names()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.get_columns_to_read"><code class="docutils literal notranslate"><span class="pre">VariableList.get_columns_to_read()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.get_an_column_names"><code class="docutils literal notranslate"><span class="pre">VariableList.get_an_column_names()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.write"><code class="docutils literal notranslate"><span class="pre">VariableList.write()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.data_structures.variable.VariableList.copy"><code class="docutils literal notranslate"><span class="pre">VariableList.copy()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.process_input_data"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.process_input_data</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.process_input_data.ProcessInputData"><code class="docutils literal notranslate"><span class="pre">ProcessInputData</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.process_input_data.ProcessInputData.output_files"><code class="docutils literal notranslate"><span class="pre">ProcessInputData.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.process_input_data.ProcessInputData.main"><code class="docutils literal notranslate"><span class="pre">ProcessInputData.main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.process_input_data.ProcessInputData.process_geo_column"><code class="docutils literal notranslate"><span class="pre">ProcessInputData.process_geo_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.process_input_data.ProcessInputData.parse_address"><code class="docutils literal notranslate"><span class="pre">ProcessInputData.parse_address()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.process_input_data.ProcessInputData.process_address_column"><code class="docutils literal notranslate"><span class="pre">ProcessInputData.process_address_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.process_input_data.ProcessInputData.process_check"><code class="docutils literal notranslate"><span class="pre">ProcessInputData.process_check()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.process_input_data.ProcessInputData.process_data"><code class="docutils literal notranslate"><span class="pre">ProcessInputData.process_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.process_input_data.process_set_missing"><code class="docutils literal notranslate"><span class="pre">process_set_missing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.process_input_data.process_drop"><code class="docutils literal notranslate"><span class="pre">process_drop()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.process_input_data.process_auto_drops"><code class="docutils literal notranslate"><span class="pre">process_auto_drops()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.generate_must_links"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.generate_must_links</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.generate_must_links.GenerateMustLinks"><code class="docutils literal notranslate"><span class="pre">GenerateMustLinks</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_must_links.GenerateMustLinks.output_files"><code class="docutils literal notranslate"><span class="pre">GenerateMustLinks.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_must_links.GenerateMustLinks.main"><code class="docutils literal notranslate"><span class="pre">GenerateMustLinks.main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_must_links.GenerateMustLinks.build_ml_var_df"><code class="docutils literal notranslate"><span class="pre">GenerateMustLinks.build_ml_var_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_must_links.GenerateMustLinks.get_must_links"><code class="docutils literal notranslate"><span class="pre">GenerateMustLinks.get_must_links()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.block"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.block</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.Block"><code class="docutils literal notranslate"><span class="pre">Block</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.output_files"><code class="docutils literal notranslate"><span class="pre">Block.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.main"><code class="docutils literal notranslate"><span class="pre">Block.main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.split_last_names"><code class="docutils literal notranslate"><span class="pre">Block.split_last_names()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.convert_all_names_to_blockstring_info"><code class="docutils literal notranslate"><span class="pre">Block.convert_all_names_to_blockstring_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.get_query_strings"><code class="docutils literal notranslate"><span class="pre">Block.get_query_strings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.generate_shingles_matrix"><code class="docutils literal notranslate"><span class="pre">Block.generate_shingles_matrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.load_main_index"><code class="docutils literal notranslate"><span class="pre">Block.load_main_index()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.generate_index"><code class="docutils literal notranslate"><span class="pre">Block.generate_index()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.get_indices"><code class="docutils literal notranslate"><span class="pre">Block.get_indices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.generate_candidate_pairs"><code class="docutils literal notranslate"><span class="pre">Block.generate_candidate_pairs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.compute_cosine_sim"><code class="docutils literal notranslate"><span class="pre">Block.compute_cosine_sim()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.evaluate_blocking"><code class="docutils literal notranslate"><span class="pre">Block.evaluate_blocking()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.add_uncovered_pairs"><code class="docutils literal notranslate"><span class="pre">Block.add_uncovered_pairs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.apply_blocking_filter"><code class="docutils literal notranslate"><span class="pre">Block.apply_blocking_filter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.disallow_switched_pairs"><code class="docutils literal notranslate"><span class="pre">Block.disallow_switched_pairs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.get_actual_candidates"><code class="docutils literal notranslate"><span class="pre">Block.get_actual_candidates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.get_near_neighbors_df"><code class="docutils literal notranslate"><span class="pre">Block.get_near_neighbors_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.block.Block.get_exact_match_candidate_pairs"><code class="docutils literal notranslate"><span class="pre">Block.get_exact_match_candidate_pairs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.get_blocking_columns"><code class="docutils literal notranslate"><span class="pre">get_blocking_columns()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.read_an"><code class="docutils literal notranslate"><span class="pre">read_an()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.get_nn_string_counts"><code class="docutils literal notranslate"><span class="pre">get_nn_string_counts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.get_common_name_penalties"><code class="docutils literal notranslate"><span class="pre">get_common_name_penalties()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.get_all_shingles"><code class="docutils literal notranslate"><span class="pre">get_all_shingles()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.prep_index"><code class="docutils literal notranslate"><span class="pre">prep_index()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.get_second_index_nn_strings"><code class="docutils literal notranslate"><span class="pre">get_second_index_nn_strings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.save_main_index"><code class="docutils literal notranslate"><span class="pre">save_main_index()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.load_main_index_nn_strings"><code class="docutils literal notranslate"><span class="pre">load_main_index_nn_strings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.write_some_cps"><code class="docutils literal notranslate"><span class="pre">write_some_cps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.block.generate_true_pairs"><code class="docutils literal notranslate"><span class="pre">generate_true_pairs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.generate_data_rows"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.generate_data_rows</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.generate_data_rows.GenerateDataRows"><code class="docutils literal notranslate"><span class="pre">GenerateDataRows</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_data_rows.GenerateDataRows.output_files"><code class="docutils literal notranslate"><span class="pre">GenerateDataRows.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_data_rows.GenerateDataRows.main"><code class="docutils literal notranslate"><span class="pre">GenerateDataRows.main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_data_rows.GenerateDataRows.generate_name_probabilities_object"><code class="docutils literal notranslate"><span class="pre">GenerateDataRows.generate_name_probabilities_object()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_data_rows.GenerateDataRows.find_valid_training_records"><code class="docutils literal notranslate"><span class="pre">GenerateDataRows.find_valid_training_records()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_data_rows.GenerateDataRows.generate_actual_data_rows"><code class="docutils literal notranslate"><span class="pre">GenerateDataRows.generate_actual_data_rows()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_data_rows.GenerateDataRows.generate_data_row_files"><code class="docutils literal notranslate"><span class="pre">GenerateDataRows.generate_data_row_files()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.fit_model"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.fit_model</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.fit_model.FitModel"><code class="docutils literal notranslate"><span class="pre">FitModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.fit_model.FitModel.output_files"><code class="docutils literal notranslate"><span class="pre">FitModel.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.fit_model.FitModel.dr_file_list"><code class="docutils literal notranslate"><span class="pre">FitModel.dr_file_list</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.fit_model.FitModel.main"><code class="docutils literal notranslate"><span class="pre">FitModel.main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.fit_model.FitModel.fit_model"><code class="docutils literal notranslate"><span class="pre">FitModel.fit_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.fit_model.FitModel.fit_models"><code class="docutils literal notranslate"><span class="pre">FitModel.fit_models()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.fit_model.FitModel.evaluate_models"><code class="docutils literal notranslate"><span class="pre">FitModel.evaluate_models()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.fit_model.FitModel.get_train_eval_data"><code class="docutils literal notranslate"><span class="pre">FitModel.get_train_eval_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.fit_model.FitModel.find_valid_training_records"><code class="docutils literal notranslate"><span class="pre">FitModel.find_valid_training_records()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.fit_model.get_feature_info"><code class="docutils literal notranslate"><span class="pre">get_feature_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.fit_model.save_models"><code class="docutils literal notranslate"><span class="pre">save_models()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.fit_model.define_necessary_models"><code class="docutils literal notranslate"><span class="pre">define_necessary_models()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.fit_model.load_and_save_trained_model"><code class="docutils literal notranslate"><span class="pre">load_and_save_trained_model()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.fit_model.get_match_train_eligible_flag"><code class="docutils literal notranslate"><span class="pre">get_match_train_eligible_flag()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.fit_model.add_threshold_dict"><code class="docutils literal notranslate"><span class="pre">add_threshold_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.fit_model.get_flipped0_potential_edges"><code class="docutils literal notranslate"><span class="pre">get_flipped0_potential_edges()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.predict"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.predict</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.predict.Predict"><code class="docutils literal notranslate"><span class="pre">Predict</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.predict.Predict.output_files"><code class="docutils literal notranslate"><span class="pre">Predict.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.predict.Predict.dr_file_list"><code class="docutils literal notranslate"><span class="pre">Predict.dr_file_list</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.predict.Predict.main"><code class="docutils literal notranslate"><span class="pre">Predict.main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.predict.Predict.get_potential_edges"><code class="docutils literal notranslate"><span class="pre">Predict.get_potential_edges()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.predict.Predict.get_potential_edges_in_parallel"><code class="docutils literal notranslate"><span class="pre">Predict.get_potential_edges_in_parallel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.predict.Predict.predict"><code class="docutils literal notranslate"><span class="pre">Predict.predict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.cluster"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.cluster</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.cluster.Constraints"><code class="docutils literal notranslate"><span class="pre">Constraints</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Constraints.get_columns_used"><code class="docutils literal notranslate"><span class="pre">Constraints.get_columns_used</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Constraints.is_valid_link"><code class="docutils literal notranslate"><span class="pre">Constraints.is_valid_link</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Constraints.is_valid_cluster"><code class="docutils literal notranslate"><span class="pre">Constraints.is_valid_cluster</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Constraints.apply_link_priority"><code class="docutils literal notranslate"><span class="pre">Constraints.apply_link_priority</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.cluster.Cluster"><code class="docutils literal notranslate"><span class="pre">Cluster</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.output_files"><code class="docutils literal notranslate"><span class="pre">Cluster.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.main"><code class="docutils literal notranslate"><span class="pre">Cluster.main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.get_cluster_logic"><code class="docutils literal notranslate"><span class="pre">Cluster.get_cluster_logic()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.auto_is_valid_edge"><code class="docutils literal notranslate"><span class="pre">Cluster.auto_is_valid_edge()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.auto_is_valid_cluster"><code class="docutils literal notranslate"><span class="pre">Cluster.auto_is_valid_cluster()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.get_initial_clusters"><code class="docutils literal notranslate"><span class="pre">Cluster.get_initial_clusters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.save_df_to_disk"><code class="docutils literal notranslate"><span class="pre">Cluster.save_df_to_disk()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.get_potential_edges"><code class="docutils literal notranslate"><span class="pre">Cluster.get_potential_edges()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.load_cluster_info"><code class="docutils literal notranslate"><span class="pre">Cluster.load_cluster_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.get_ci_ix_map"><code class="docutils literal notranslate"><span class="pre">Cluster.get_ci_ix_map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.cluster.Cluster.cluster_potential_edges"><code class="docutils literal notranslate"><span class="pre">Cluster.cluster_potential_edges()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.generate_output"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.generate_output</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.generate_output.GenerateOutput"><code class="docutils literal notranslate"><span class="pre">GenerateOutput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_output.GenerateOutput.output_files"><code class="docutils literal notranslate"><span class="pre">GenerateOutput.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_output.GenerateOutput.main"><code class="docutils literal notranslate"><span class="pre">GenerateOutput.main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_output.GenerateOutput.create_allnames_clusterid_file"><code class="docutils literal notranslate"><span class="pre">GenerateOutput.create_allnames_clusterid_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_output.GenerateOutput.output_clusterid_files"><code class="docutils literal notranslate"><span class="pre">GenerateOutput.output_clusterid_files()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.utils.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.utils.utils</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.StatLogFilter"><code class="docutils literal notranslate"><span class="pre">StatLogFilter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.utils.utils.StatLogFilter.filter"><code class="docutils literal notranslate"><span class="pre">StatLogFilter.filter()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.setup_logging"><code class="docutils literal notranslate"><span class="pre">setup_logging()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.log_stat"><code class="docutils literal notranslate"><span class="pre">log_stat()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.log_runtime_and_memory"><code class="docutils literal notranslate"><span class="pre">log_runtime_and_memory()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.load_yaml"><code class="docutils literal notranslate"><span class="pre">load_yaml()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.dump_yaml"><code class="docutils literal notranslate"><span class="pre">dump_yaml()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.create_nm_record_id"><code class="docutils literal notranslate"><span class="pre">create_nm_record_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.clean_nn_string"><code class="docutils literal notranslate"><span class="pre">clean_nn_string()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.build_blockstring"><code class="docutils literal notranslate"><span class="pre">build_blockstring()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.get_nn_string_from_blockstring"><code class="docutils literal notranslate"><span class="pre">get_nn_string_from_blockstring()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.get_ed_string_from_blockstring"><code class="docutils literal notranslate"><span class="pre">get_ed_string_from_blockstring()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.get_endpoints"><code class="docutils literal notranslate"><span class="pre">get_endpoints()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.load_sample"><code class="docutils literal notranslate"><span class="pre">load_sample()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.load_csv_list"><code class="docutils literal notranslate"><span class="pre">load_csv_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.load_parquet"><code class="docutils literal notranslate"><span class="pre">load_parquet()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.load_parquet_list"><code class="docutils literal notranslate"><span class="pre">load_parquet_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.determine_model_to_use"><code class="docutils literal notranslate"><span class="pre">determine_model_to_use()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.load_models"><code class="docutils literal notranslate"><span class="pre">load_models()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.recursively_convert_tuple_to_list"><code class="docutils literal notranslate"><span class="pre">recursively_convert_tuple_to_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.luigi_dict_parameter_to_dict"><code class="docutils literal notranslate"><span class="pre">luigi_dict_parameter_to_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.filename_friendly_hash"><code class="docutils literal notranslate"><span class="pre">filename_friendly_hash()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.load_logging_params"><code class="docutils literal notranslate"><span class="pre">load_logging_params()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.reformat_dict"><code class="docutils literal notranslate"><span class="pre">reformat_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.utils.utils.camel_to_snake"><code class="docutils literal notranslate"><span class="pre">camel_to_snake()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-namematch.generate_report"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.generate_report</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#namematch.generate_report.IgnoreBlackWarning"><code class="docutils literal notranslate"><span class="pre">IgnoreBlackWarning</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_report.IgnoreBlackWarning.filter"><code class="docutils literal notranslate"><span class="pre">IgnoreBlackWarning.filter()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#namematch.generate_report.GenerateReport"><code class="docutils literal notranslate"><span class="pre">GenerateReport</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_report.GenerateReport.output_files"><code class="docutils literal notranslate"><span class="pre">GenerateReport.output_files</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#namematch.generate_report.GenerateReport.main"><code class="docutils literal notranslate"><span class="pre">GenerateReport.main()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">namematch</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h1>
<section id="module-namematch.namematcher">
<span id="namematch-namematcher"></span><h2><a class="reference internal" href="#module-namematch.namematcher" title="namematch.namematcher"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.namematcher</span></code></a><a class="headerlink" href="#module-namematch.namematcher" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.namematcher.</span></span><span class="sig-name descname"><span class="pre">NameMatcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">og_blocking_index_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'None'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trained_model_info_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'None'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nm_info_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nm_info.yaml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logging_params_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'output'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all_names.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_links</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'must_links.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking_index_bin_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'blocking_index.bin'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidate_pairs_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'candidate_pairs.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_rows_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'data_rows'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'basic_selection_model.pkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'basic_match_model.pkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flipped0_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'flipped0_potential_links.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'model.yaml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential_edges_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'potential_links'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_assignments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cluster_assignments.pkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_to_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'edges_to_cluster.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#namematch.cluster.Constraints" title="namematch.cluster.Constraints"><span class="pre">Constraints</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">an_output_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all_names_with_clusterid.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'matching_report.html'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_lprof</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logging_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'INFO'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/namematcher.html#NameMatcher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.namematcher.NameMatcher" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main interface to run all the steps in namematch</p>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.process_input_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_input_data</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.process_input_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.generate_must_links">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_must_links</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.generate_must_links" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.block">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">block</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.block" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.generate_data_rows">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_data_rows</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.generate_data_rows" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.fit_model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fit_model</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.fit_model" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.predict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">predict</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.predict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.cluster">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cluster</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.cluster" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.generate_output">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_output</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.generate_output" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.generate_report">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_report</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.generate_report" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.all_tasks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_tasks</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.all_tasks" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.nm_metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nm_metadata</span></span><a class="headerlink" href="#namematch.namematcher.NameMatcher.nm_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Namematch state including all the necessary attributes to recreate the NameMatcher object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_params_schema_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_stats_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/namematcher.html#NameMatcher.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.namematcher.NameMatcher.run" title="Permalink to this definition"></a></dt>
<dd><p>Main method to kick off the namematch process</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> (<em>bool</em>) – Force to run all the tasks</p></li>
<li><p><strong>write_params_schema_file</strong> (<em>bool</em>) – whether to write params and schema to yaml</p></li>
<li><p><strong>write_stats_file</strong> (<em>bool</em>) – whether to write the nm_info file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.namematcher.NameMatcher.load_namematcher">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_namematcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nm_info_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_nm_info_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/namematcher.html#NameMatcher.load_namematcher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.namematcher.NameMatcher.load_namematcher" title="Permalink to this definition"></a></dt>
<dd><p>To load NameMatcher instance given the nm_info_file.
This classmethod help us pick up where it left last time based on the information in the
nm_info_file. It will create a NameMatcher instance and recover all the attributes as
well as stats_dict for tasks that was already run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nm_info_file</strong> (<em>str</em>) – nm_info.yaml file path</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>NameMatcher instance</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.namematcher.NameMatcher" title="namematch.namematcher.NameMatcher"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.namematcher.NameMatcher</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.data_structures.parameters">
<span id="namematch-data-structures-parameters"></span><h2><a class="reference internal" href="#module-namematch.data_structures.parameters" title="namematch.data_structures.parameters"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.parameters</span></code></a><a class="headerlink" href="#module-namematch.data_structures.parameters" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.data_structures.parameters.</span></span><span class="sig-name descname"><span class="pre">Parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">validate_param_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that houses important matching parameters. Handles validation of the config file.</p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.check_integrity">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">check_integrity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaults</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.check_integrity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.check_integrity" title="Permalink to this definition"></a></dt>
<dd><p>Ensure that parameters are of the appropriate type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>str</em>) – parameter name (key)</p></li>
<li><p><strong>param_value</strong> – value of the given key  (parameter name)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.init">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.init" title="Permalink to this definition"></a></dt>
<dd><p>Create a Parameters instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – dictionary with match parameter values</p></li>
<li><p><strong>defaults</strong> (<em>dict</em>) – dictionary with default params</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the Parameters class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.parameters.Parameters" title="namematch.data_structures.parameters.Parameters"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.parameters.Parameters</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.load" title="Permalink to this definition"></a></dt>
<dd><p>Load a Parameters instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em>) – path to a yaml version of a Parameters instance</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the Parameters class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.parameters.Parameters" title="namematch.data_structures.parameters.Parameters"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.parameters.Parameters</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.load_from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.load_from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.load_from_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.check_for_required_variables">
<span class="sig-name descname"><span class="pre">check_for_required_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.check_for_required_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.check_for_required_variables" title="Permalink to this definition"></a></dt>
<dd><p>Validate that the config includes required variables.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.validate_exactmatch_variables">
<span class="sig-name descname"><span class="pre">validate_exactmatch_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.validate_exactmatch_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.validate_exactmatch_variables" title="Permalink to this definition"></a></dt>
<dd><p>Validate that the exact_match_variables and negate_exact_match_variables parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.validate_blocking_scheme">
<span class="sig-name descname"><span class="pre">validate_blocking_scheme</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.validate_blocking_scheme"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.validate_blocking_scheme" title="Permalink to this definition"></a></dt>
<dd><p>Validate that the blocking scheme is in the correct format and provieds the minimum
number of blocking variables per blocking type (cosine_distance, edit_distance, absvalue_distance).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.get_blocking_variables">
<span class="sig-name descname"><span class="pre">get_blocking_variables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.get_blocking_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.get_blocking_variables" title="Permalink to this definition"></a></dt>
<dd><p>Get list of blocking variable nicknames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of variable nicknames (all-names columns) to use for blocking</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.validate" title="Permalink to this definition"></a></dt>
<dd><p>Validate several components of the config file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.write" title="Permalink to this definition"></a></dt>
<dd><p>Write the Parameters to a yaml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_file</strong> (<em>str</em>) – path to write parameter dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.copy" title="Permalink to this definition"></a></dt>
<dd><p>Create a deep copy of a Parameters object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.stage_params_lookup">
<span class="sig-name descname"><span class="pre">stage_params_lookup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.stage_params_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.stage_params_lookup" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.parameters.Parameters.get_stage_params">
<span class="sig-name descname"><span class="pre">get_stage_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/parameters.html#Parameters.get_stage_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.parameters.Parameters.get_stage_params" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-namematch.data_structures.schema">
<span id="namematch-data-structures-schema"></span><h2><a class="reference internal" href="#module-namematch.data_structures.schema" title="namematch.data_structures.schema"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.schema</span></code></a><a class="headerlink" href="#module-namematch.data_structures.schema" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.data_structures.schema.Schema">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.data_structures.schema.</span></span><span class="sig-name descname"><span class="pre">Schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/schema.html#Schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.schema.Schema" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that houses the most essential instructions for how to complete the match: what
data files to match, and which variables to use to do so.</p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.schema.Schema.init">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/schema.html#Schema.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.schema.Schema.init" title="Permalink to this definition"></a></dt>
<dd><p>Create and validate a DataFileList instance and a VariableList instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – dictionary with match parameter values</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – dictionary with processed match parameter values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the Schema class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.schema.Schema" title="namematch.data_structures.schema.Schema"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.schema.Schema</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.schema.Schema.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/schema.html#Schema.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.schema.Schema.load" title="Permalink to this definition"></a></dt>
<dd><p>Load a Schema instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em>) – path to a yaml version of a Schema instance</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the Schema class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.schema.Schema" title="namematch.data_structures.schema.Schema"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.schema.Schema</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.schema.Schema.load_from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/schema.html#Schema.load_from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.schema.Schema.load_from_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.schema.Schema.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/schema.html#Schema.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.schema.Schema.write" title="Permalink to this definition"></a></dt>
<dd><p>Write the Schema to a yaml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_file</strong> (<em>str</em>) – path to write schema dictionary</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.data_structures.data_file">
<span id="namematch-data-structures-data-file"></span><h2><a class="reference internal" href="#module-namematch.data_structures.data_file" title="namematch.data_structures.data_file"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file</span></code></a><a class="headerlink" href="#module-namematch.data_structures.data_file" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.data_structures.data_file.</span></span><span class="sig-name descname"><span class="pre">DataFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">validated_data_file_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFile" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parent class for NewDataFile and ExistingDateFile, which house details about the
data files input for matching.</p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFile.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_file_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFile.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFile.load" title="Permalink to this definition"></a></dt>
<dd><p>Load a DataFile instance (either a NewDataFile or an ExistingDataFile).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_file_dict</strong> (<em>dict</em>) – dictionary-version of a DataFile object</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the DataFile class</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFile.validate_existance">
<span class="sig-name descname"><span class="pre">validate_existance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFile.validate_existance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFile.validate_existance" title="Permalink to this definition"></a></dt>
<dd><p>Validate that an input file path exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFile.validate_record_id_col">
<span class="sig-name descname"><span class="pre">validate_record_id_col</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFile.validate_record_id_col"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFile.validate_record_id_col" title="Permalink to this definition"></a></dt>
<dd><p>Validate that the record_id column exists and meets uniqueness criteria.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFile.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFile.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFile.copy" title="Permalink to this definition"></a></dt>
<dd><p>Create a deep copy of a DataFile object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.NewDataFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.data_structures.data_file.</span></span><span class="sig-name descname"><span class="pre">NewDataFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">validated_data_file_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#NewDataFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.NewDataFile" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#namematch.data_structures.data_file.DataFile" title="namematch.data_structures.data_file.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFile</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.NewDataFile.build">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nickname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#NewDataFile.build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.NewDataFile.build" title="Permalink to this definition"></a></dt>
<dd><p>Create a NewDataFile instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nickname</strong> (<em>str</em>) – the data file’s nickname</p></li>
<li><p><strong>info</strong> (<em>dict</em>) – info about a data file definition from user-input config</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the NewDataFile class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.data_file.NewDataFile" title="namematch.data_structures.data_file.NewDataFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file.NewDataFile</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.ExistingDataFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.data_structures.data_file.</span></span><span class="sig-name descname"><span class="pre">ExistingDataFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">validated_data_file_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#ExistingDataFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.ExistingDataFile" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#namematch.data_structures.data_file.DataFile" title="namematch.data_structures.data_file.DataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFile</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.ExistingDataFile.build">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nickname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#ExistingDataFile.build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.ExistingDataFile.build" title="Permalink to this definition"></a></dt>
<dd><p>Create a ExistingDataFile instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nickname</strong> (<em>str</em>) – the data file’s nickname</p></li>
<li><p><strong>info</strong> (<em>dict</em>) – info about a data file definition from user-input config</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the ExistingDataFile class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.data_file.ExistingDataFile" title="namematch.data_structures.data_file.ExistingDataFile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file.ExistingDataFile</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.data_structures.data_file.</span></span><span class="sig-name descname"><span class="pre">DataFileList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_files_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that houses a list of DataFile objects (either NewDataFiles or ExistingDateFiles.</p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList.build">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_files_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing_data_files_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList.build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList.build" title="Permalink to this definition"></a></dt>
<dd><p>Create a DataFileList instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_files_dict</strong> (<em>dict</em>) – dictionary with “new data file” info from user-input config</p></li>
<li><p><strong>existing_data_files_dict</strong> (<em>dict</em>) – dictionary with “existing data file” info from user-input config</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the DataFileList class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList" title="namematch.data_structures.data_file.DataFileList"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file.DataFileList</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_files_list_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList.load" title="Permalink to this definition"></a></dt>
<dd><p>Load a DataFileList instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_files_list_dict</strong> (<em>dict</em>) – dictionary-version of a DataFileList object</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the DataFileList class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.data_file.DataFileList" title="namematch.data_structures.data_file.DataFileList"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file.DataFileList</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList.get_all_nicknames">
<span class="sig-name descname"><span class="pre">get_all_nicknames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList.get_all_nicknames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList.get_all_nicknames" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of all of the DataFile nicknames in the DataFileList.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList.validate" title="Permalink to this definition"></a></dt>
<dd><p>Validate the DataFileList by validating the list overall and then validating
each individual DataFile.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList.validate_names">
<span class="sig-name descname"><span class="pre">validate_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList.validate_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList.validate_names" title="Permalink to this definition"></a></dt>
<dd><p>Validate that the DataFiles in the DataFileList all have unique nicknames
and that the output file stems have unique cluster types.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList.write" title="Permalink to this definition"></a></dt>
<dd><p>Write the DataFileList to a yaml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_file</strong> (<em>str</em>) – path to write data file list dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList.copy" title="Permalink to this definition"></a></dt>
<dd><p>Create a deep copy of a DataFileList object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.data_file.DataFileList.get_all_data_files">
<span class="sig-name descname"><span class="pre">get_all_data_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/data_file.html#DataFileList.get_all_data_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.data_file.DataFileList.get_all_data_files" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve list of all DataFile objects, regardless of New or Existing.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of DataFile objects</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.data_structures.variable">
<span id="namematch-data-structures-variable"></span><h2><a class="reference internal" href="#module-namematch.data_structures.variable" title="namematch.data_structures.variable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.variable</span></code></a><a class="headerlink" href="#module-namematch.data_structures.variable" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.data_structures.variable.Variable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.data_structures.variable.</span></span><span class="sig-name descname"><span class="pre">Variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">validated_variable_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#Variable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.Variable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.Variable.build">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#Variable.build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.Variable.build" title="Permalink to this definition"></a></dt>
<dd><p>Create a Variable instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable_dict</strong> (<em>dict</em>) – info about a variable definition from user-input config</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – dictionary with processed match parameter values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the Variable class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.variable.Variable" title="namematch.data_structures.variable.Variable"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.variable.Variable</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.Variable.validate_col_parameters">
<span class="sig-name descname"><span class="pre">validate_col_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#Variable.validate_col_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.Variable.validate_col_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Validate that each data file has a corresponding “_col” parameter in each
variable defintion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_files</strong> (<a class="reference internal" href="#namematch.data_structures.data_file.DataFileList" title="namematch.data_structures.data_file.DataFileList"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file.DataFileList</span></code></a>) – info about what input files are being matched</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.Variable.get_columns_to_read">
<span class="sig-name descname"><span class="pre">get_columns_to_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_nickname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#Variable.get_columns_to_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.Variable.get_columns_to_read" title="Permalink to this definition"></a></dt>
<dd><p>Get the name(s) of the column(s) from the input file that need to be read in order to
create the current all-names column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_nickname</strong> (<em>str</em>) – nickname of input file being searched</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of column names</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.Variable.get_an_columns">
<span class="sig-name descname"><span class="pre">get_an_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#Variable.get_an_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.Variable.get_an_columns" title="Permalink to this definition"></a></dt>
<dd><p>Get the name(s) of the current all-names column(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of column names</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.Variable.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#Variable.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.Variable.copy" title="Permalink to this definition"></a></dt>
<dd><p>Create a deep copy of a Variable object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.data_structures.variable.</span></span><span class="sig-name descname"><span class="pre">VariableList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that houses a list of Variable objects.</p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.build">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_dict_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.build"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.build" title="Permalink to this definition"></a></dt>
<dd><p>Create a VariableList instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable_dict_list</strong> (<em>dict</em>) – dictionary with variable info from user-input config</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – dictionary with processed match parameter values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the VariableList class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.variable.VariableList" title="namematch.data_structures.variable.VariableList"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.variable.VariableList</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables_list_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.load" title="Permalink to this definition"></a></dt>
<dd><p>Load a VariableList instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>variables_list_dict</strong> (<em>dict</em>) – dictionary version of a VariableList instance</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance of the VariableList class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#namematch.data_structures.variable.VariableList" title="namematch.data_structures.variable.VariableList"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.variable.VariableList</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.validate_col_parameters">
<span class="sig-name descname"><span class="pre">validate_col_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.validate_col_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.validate_col_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Validate that the “_col” variables referenced in the config’s variable definitions
actually exist in the input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_files</strong> (<a class="reference internal" href="#namematch.data_structures.data_file.DataFileList" title="namematch.data_structures.data_file.DataFileList"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file.DataFileList</span></code></a>) – info about what input files are being matched</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.validate_variable_names">
<span class="sig-name descname"><span class="pre">validate_variable_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.validate_variable_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.validate_variable_names" title="Permalink to this definition"></a></dt>
<dd><p>Validate that the Variables in the VariableList all have unique nicknames.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.validate_type_counts">
<span class="sig-name descname"><span class="pre">validate_type_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">incremental</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.validate_type_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.validate_type_counts" title="Permalink to this definition"></a></dt>
<dd><p>Validate that there is exactly one variable with compare type UniqueID. If
incremental, validate that there is exactly one variable with compare type ExistingID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>incremental</strong> (<em>bool</em>) – True if the config file provides “existing” data files</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.validate" title="Permalink to this definition"></a></dt>
<dd><p>Validate several components of the variables defined in the config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_files</strong> (<a class="reference internal" href="#namematch.data_structures.data_file.DataFileList" title="namematch.data_structures.data_file.DataFileList"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.data_structures.data_file.DataFileList</span></code></a>) – info about what input files are being matched</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.get_variables_where">
<span class="sig-name descname"><span class="pre">get_variables_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">equality_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equals'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'name'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.get_variables_where"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.get_variables_where" title="Permalink to this definition"></a></dt>
<dd><p>Select variables that meet a certain condition (e.g. compare_type == ‘Category’).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<em>str</em>) – variable feature to condition on</p></li>
<li><p><strong>attr_value</strong> (<em>str</em>) – acceptable values for the variable feature</p></li>
<li><p><strong>equality_type</strong> (<em>str</em>) – check conditions using either “equals” or “in”</p></li>
<li><p><strong>return_type</strong> (<em>str</em>) – either “name” or “ix”, determining what return type to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of variable nicknames (all-names columns) or corresponding all-names column indices</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.get_names">
<span class="sig-name descname"><span class="pre">get_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.get_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.get_names" title="Permalink to this definition"></a></dt>
<dd><p>Get list of variable nicknames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of variable nicknames</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.get_columns_to_read">
<span class="sig-name descname"><span class="pre">get_columns_to_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.get_columns_to_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.get_columns_to_read" title="Permalink to this definition"></a></dt>
<dd><p>Get the name(s) of the column(s) from the input file that need to be read in order to
create the all-names file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_file</strong> (<em>DataFile object</em>) – contains info about a given input file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of column names</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.get_an_column_names">
<span class="sig-name descname"><span class="pre">get_an_column_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.get_an_column_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.get_an_column_names" title="Permalink to this definition"></a></dt>
<dd><p>Get the final list of all-names columns, including internally created columns
like <cite>file_type</cite> and <cite>drop_from_nm</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of all-names columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.write" title="Permalink to this definition"></a></dt>
<dd><p>Write the VariableList to a yaml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_file</strong> (<em>str</em>) – path to write variable list dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.data_structures.variable.VariableList.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/data_structures/variable.html#VariableList.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.data_structures.variable.VariableList.copy" title="Permalink to this definition"></a></dt>
<dd><p>Create a deep copy of a VariableList object.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.process_input_data">
<span id="namematch-process-input-data"></span><h2><a class="reference internal" href="#module-namematch.process_input_data" title="namematch.process_input_data"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.process_input_data</span></code></a><a class="headerlink" href="#module-namematch.process_input_data" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.process_input_data.ProcessInputData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.process_input_data.</span></span><span class="sig-name descname"><span class="pre">ProcessInputData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all_names.parquet'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#ProcessInputData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.ProcessInputData" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.process_input_data.ProcessInputData.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.process_input_data.ProcessInputData.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.process_input_data.ProcessInputData.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#ProcessInputData.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.ProcessInputData.main" title="Permalink to this definition"></a></dt>
<dd><p>Follow the instructions in the schema and params objects to build the all-names file from
the raw input file(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
<li><p><strong>schema</strong> (<em>Schema object</em>) – contains match schema info (files to match, variables to use, etc.)</p></li>
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.process_input_data.ProcessInputData.process_geo_column">
<span class="sig-name descname"><span class="pre">process_geo_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#ProcessInputData.process_geo_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.ProcessInputData.process_geo_column" title="Permalink to this definition"></a></dt>
<dd><p>Take dataframe of geographic data (either in “lat,lon” format or in
“lat”, “lon” format) and ensure it has just one column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – df of address input data (columns are strings)</p></li>
<li><p><strong>variable</strong> (<em>Variable object</em>) – contains naming info for new geo column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame of clean geographic information for all_names file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.process_input_data.ProcessInputData.parse_address">
<span class="sig-name descname"><span class="pre">parse_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#ProcessInputData.parse_address"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.ProcessInputData.parse_address" title="Permalink to this definition"></a></dt>
<dd><p>Parse an address string into distinct parts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>address</strong> (<em>str</em>) – string of full address (e.g. 54 East 18th Rd.)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(address number, street name, street suffix)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.process_input_data.ProcessInputData.process_address_column">
<span class="sig-name descname"><span class="pre">process_address_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#ProcessInputData.process_address_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.ProcessInputData.process_address_column" title="Permalink to this definition"></a></dt>
<dd><p>Take dataframe of address data (either in “123 Main St.” format or
“123”, “Main”, “St.” format, order matters) and parse as needed to produce
three clean columns: street number, street name, and street type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – df of address input data</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataframe of clean address information for all_names file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.process_input_data.ProcessInputData.process_check">
<span class="sig-name descname"><span class="pre">process_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#ProcessInputData.process_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.ProcessInputData.process_check" title="Permalink to this definition"></a></dt>
<dd><p>Check the validity of the values in a given all-names column (according to the data type
and config instructions) and set the series name correctly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>pd.Series</em>) – series to process (will be an all-names column)</p></li>
<li><p><strong>variable</strong> (<em>Variable object</em>) – contains info on how to validate data in series</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Processed series</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.process_input_data.ProcessInputData.process_data">
<span class="sig-name descname"><span class="pre">process_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#ProcessInputData.process_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.ProcessInputData.process_data" title="Permalink to this definition"></a></dt>
<dd><p>Read in part of an input file and process it according to the config in order
to create part of the all-names file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – chunk of an input data file</p></li>
<li><p><strong>variables</strong> (<em>VariableList object</em>) – contains info about the fields for matching (from config)</p></li>
<li><p><strong>data_file</strong> (<em>DataFile object</em>) – contains info about the input data set</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – dictionary of param values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>a chunk of the all-names table (one row per input record)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>file_type</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;fields for matching&gt;</p></td>
<td><p>both for the matching model and for constraint checking</p></td>
</tr>
<tr class="row-even"><td><p>&lt;raw name fields&gt;</p></td>
<td><p>pre-cleaning version of first and last name</p></td>
</tr>
<tr class="row-odd"><td><p>blockstring</p></td>
<td><p>concatenated version of blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.process_input_data.process_set_missing">
<span class="sig-prename descclassname"><span class="pre">namematch.process_input_data.</span></span><span class="sig-name descname"><span class="pre">process_set_missing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_missing_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#process_set_missing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.process_set_missing" title="Permalink to this definition"></a></dt>
<dd><p>Set values in a series to missing as needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>pd.Series</em>) – strings to process</p></li>
<li><p><strong>set_missing_list</strong> (<em>list</em>) – list of strings that are disallowed</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Processed series</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.process_input_data.process_drop">
<span class="sig-prename descclassname"><span class="pre">namematch.process_input_data.</span></span><span class="sig-name descname"><span class="pre">process_drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#process_drop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.process_drop" title="Permalink to this definition"></a></dt>
<dd><p>Get the records in a series that have invalid values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>pd.Series</em>) – series being processed</p></li>
<li><p><strong>drop_list</strong> (<em>list</em><em> of </em><em>str</em>) – invalid values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indices of records that are not valid</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.process_input_data.process_auto_drops">
<span class="sig-prename descclassname"><span class="pre">namematch.process_input_data.</span></span><span class="sig-name descname"><span class="pre">process_auto_drops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">an</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing_drop_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_logic</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/process_input_data.html#process_auto_drops"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.process_input_data.process_auto_drops" title="Permalink to this definition"></a></dt>
<dd><p>Get the records in all-names that have invalid values due to combination
of multiple columns (based on logic in the private config).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>an</strong> (<em>pd.DataFrame</em>) – all-names chunk being processed</p></li>
<li><p><strong>existing_drop_list</strong> (<em>list</em><em> of </em><em>str</em>) – records already known to be invalid</p></li>
<li><p><strong>drop_logic</strong> (<em>list</em><em> of </em><em>dicts</em>) – logic for what makes a record invalid</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indices of records that are not valid</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-namematch.generate_must_links">
<span id="namematch-generate-must-links"></span><h2><a class="reference internal" href="#module-namematch.generate_must_links" title="namematch.generate_must_links"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.generate_must_links</span></code></a><a class="headerlink" href="#module-namematch.generate_must_links" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.generate_must_links.GenerateMustLinks">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.generate_must_links.</span></span><span class="sig-name descname"><span class="pre">GenerateMustLinks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_links</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_must_links.html#GenerateMustLinks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_must_links.GenerateMustLinks" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.generate_must_links.GenerateMustLinks.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.generate_must_links.GenerateMustLinks.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_must_links.GenerateMustLinks.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_must_links.html#GenerateMustLinks.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_must_links.GenerateMustLinks.main" title="Permalink to this definition"></a></dt>
<dd><p>Generate the list of must-link pairs using UniqueID info .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
<li><p><strong>schema</strong> (<em>Schema object</em>) – contains match schema info (files to match, variables to use, etc.)</p></li>
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>must_links</strong> (<em>str</em>) – path to the must-links file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_must_links.GenerateMustLinks.build_ml_var_df">
<span class="sig-name descname"><span class="pre">build_ml_var_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid_vars_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_must_links.html#GenerateMustLinks.build_ml_var_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_must_links.GenerateMustLinks.build_ml_var_df" title="Permalink to this definition"></a></dt>
<dd><p>Load the all-names file and limit it to the rows that have
a non-missing UniqueID value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>uid_vars_list</strong> (<em>list</em><em> of </em><em>strings</em>) – all-name columns with compare_type “UniqueID”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>a subset of the all-names file, relevant colums only</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>blockstring</p></td>
<td><p>concatenation of all the blocking variables (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
<tr class="row-even"><td><p>new_record</p></td>
<td><p>either True or False</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;UniqueID column(s)&gt;</p></td>
<td><p>variables of compare_type UniqueID</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_must_links.GenerateMustLinks.get_must_links">
<span class="sig-name descname"><span class="pre">get_must_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ml_var_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid_vars_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_must_links.html#GenerateMustLinks.get_must_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_must_links.GenerateMustLinks.get_must_links" title="Permalink to this definition"></a></dt>
<dd><p>Expand the list of records with must-link information to pairs of records
that must be linked togehter in the final match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ml_var_df</strong> (<em>pd.DataFrame</em>) – <table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>blockstring</p></td>
<td><p>concatenation of all the blocking variables (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
<tr class="row-even"><td><p>new_record</p></td>
<td><p>either True or False</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;UniqueID column(s)&gt;</p></td>
<td><p>variables of compare_type UniqueID</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>uid_vars_list</strong> (<em>list</em><em> of </em><em>strings</em>) – all-name columns with compare_type “UniqueID”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>list of must-link record pairs</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id_1</p></td>
<td><p>unique identifier for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>record_id_2</p></td>
<td><p>unique identifier for the second record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>blockstring for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>blockstring for the second record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>drop_from_nm_1</p></td>
<td><p>flag, True if the first record in the pair was not eligible for matching</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm_2</p></td>
<td><p>flag, True if the second record in the pair was not eligible for matching</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.block">
<span id="namematch-block"></span><h2><a class="reference internal" href="#module-namematch.block" title="namematch.block"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.block</span></code></a><a class="headerlink" href="#module-namematch.block" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.block.Block">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">Block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all_names.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_links_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'must_links.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidate_pairs_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'candidate_pairs.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking_index_bin_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'blocking_index.bin'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">og_blocking_index_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'None'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains matching parameter values</p></li>
<li><p><strong>schema</strong> (<em>Schema object</em>) – contains match schema info (files to match, variables to use, etc.)</p></li>
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>must_links_file</strong> (<em>str</em>) – path to the must-links file</p></li>
<li><p><strong>blocking_index_bin_file</strong> – name of blocking index file</p></li>
<li><p><strong>og_blocking_index_file</strong> (<em>str</em>) – path to a pre-built nmslib index (optional, if doesn’t exist then None)</p></li>
<li><p><strong>candidate_pairs_file</strong> (<em>str</em>) – path to the candidate-pairs file</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.block.Block.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.block.Block.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.main" title="Permalink to this definition"></a></dt>
<dd><p>Generate the candidate-pairs list using the blocking scheme outlined in the config.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.split_last_names">
<span class="sig-name descname"><span class="pre">split_last_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_name_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking_scheme</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.split_last_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.split_last_names" title="Permalink to this definition"></a></dt>
<dd><p>Expand the processed all-names file to handle double last names (e.g. SAM SMITH-BROWN
becomes SAM SMITH and SAM BROWN).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – all-names table, relevant columns only (where drop_from_nm == 0)</p></li>
<li><p><strong>last_name_column</strong> (<em>str</em>) – clean last name column</p></li>
<li><p><strong>blocking_scheme</strong> (<em>dict</em>) – dictionary with info on how to do blocking</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>more rows than input all names, plus orig_last_name and orig_record columns</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.convert_all_names_to_blockstring_info">
<span class="sig-name descname"><span class="pre">convert_all_names_to_blockstring_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">an</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absval_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.convert_all_names_to_blockstring_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.convert_all_names_to_blockstring_info" title="Permalink to this definition"></a></dt>
<dd><p>Create a table with information about blockstrings. If the split_names parameter is True,
then this function expands double last names to create two new “records” (e.g. SAM SMITH-BROWN
becomes SAM SMITH and SAM BROWN).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>an</strong> (<em>pd.DataFrame</em>) – <p>all-names table, relevant columns only (where drop_from_nm == 0)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>blockstring</p></td>
<td><p>concatenation of all the blocking variables (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>file_type</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;nn-blocking column(s)&gt;</p></td>
<td><p>variables for near-neighbor blocking</p></td>
</tr>
<tr class="row-even"><td><p>&lt;ed-blocking column&gt;</p></td>
<td><p>variable for edit-distance blocking</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;av-blocking column&gt;</p></td>
<td><p>(optional) variable for abs-value blocking</p></td>
</tr>
<tr class="row-even"><td><p>nn_string</p></td>
<td><p>concatenated version of nn-blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>ed_string</p></td>
<td><p>copy of ed-blocking column</p></td>
</tr>
<tr class="row-even"><td><p>absval_string</p></td>
<td><p>copy of abs-value-blocking column</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>absval_col</strong> (<em>str</em>) – column for absolute-value blocking</p></li>
<li><p><strong>params</strong> (<em>Parameter object</em>) – contains matching parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>tuple containing:</p>
<ul>
<li><p><strong>nn_string_info</strong> (<em>pd.DataFrame</em>): table with one row per nn_string (or expanded nn_string)</p>
<blockquote>
<div><table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>nn_string</p></td>
<td><p>concatenated version of nn-blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>commonness_penalty</p></td>
<td><p>float indicating how common the last name is</p></td>
</tr>
<tr class="row-odd"><td><p>n_new</p></td>
<td><p>number of times this nn_string appears in a “new” record</p></td>
</tr>
<tr class="row-even"><td><p>n_existing</p></td>
<td><p>number of times this nn_string appears in an “existing” record</p></td>
</tr>
<tr class="row-odd"><td><p>n_total</p></td>
<td><p>number of times this nn_string appears in any record</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p><strong>nn_string_expanded_df</strong> (<em>pd.DataFrame</em>): table with one row per blockstring (or expanded blockstring)</p>
<blockquote>
<div><table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>nn_string</p></td>
<td><p>concatenated version of nn-blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>nn_string_full</p></td>
<td><p>(optional) if split_names is True, this is the full (un-split) nn_string</p></td>
</tr>
<tr class="row-odd"><td><p>ed_string</p></td>
<td><p>copy of ed-blocking column</p></td>
</tr>
<tr class="row-even"><td><p>absval_string</p></td>
<td><p>copy of abs-value-blocking column</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.get_query_strings">
<span class="sig-name descname"><span class="pre">get_query_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nn_string_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking_scheme</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.get_query_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.get_query_strings" title="Permalink to this definition"></a></dt>
<dd><p>Filter to nn_strings that appear in the new data – these are the only strings
for which we need near-neighbors. If incremental is False, this filtering step does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nn_string_info</strong> (<em>pd.DataFrame</em>) – <p>table with one row per nn_string (or expanded nn_string)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>nn_string</p></td>
<td><p>concatenated version of nn-blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>commonness_penalty</p></td>
<td><p>float indicating how common the last name is</p></td>
</tr>
<tr class="row-odd"><td><p>n_new</p></td>
<td><p>number of times this nn_string appears in a “new” record</p></td>
</tr>
<tr class="row-even"><td><p>n_existing</p></td>
<td><p>number of times this nn_string appears in an “existing” record</p></td>
</tr>
<tr class="row-odd"><td><p>n_total</p></td>
<td><p>number of times this nn_string appears in any record</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>blocking_scheme</strong> (<em>dict</em>) – dictionary with info on how to do blocking</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>tuple containing:</p>
<ul class="simple">
<li><p><strong>nn_string_info_to_query</strong> (<em>pd.DataFrame</em>): nn_string_info, subset to nn_strings where n_new &gt; 0</p></li>
<li><p><strong>nn_strings_to_query</strong> (<em>list</em>): nn_strings that appear at least once in a “new” record</p></li>
<li><p><strong>shingles_to_query</strong> (<em>scipy.sparse.csr_matrix</em>): sparse weighted shingles matrix for the nn_strings that appear in a new record</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.generate_shingles_matrix">
<span class="sig-name descname"><span class="pre">generate_shingles_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nn_strings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.generate_shingles_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.generate_shingles_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Return a weighted sparse matrix of 2-shingles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alpha</strong> (<em>float</em>) – weight of LAST relative to FIRST</p></li>
<li><p><strong>power</strong> (<em>float</em>) – parameter controlling the impact of name length on cosine distance</p></li>
<li><p><strong>matrix_type</strong> (<em>str</em>) – description of matrix being built (for logging)</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – True if status messages desired</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Weighted sparse 2-shingles matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>scipy.sparse.csr_matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.load_main_index">
<span class="sig-name descname"><span class="pre">load_main_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.load_main_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.load_main_index" title="Permalink to this definition"></a></dt>
<dd><p>Load the main index, which is reusable over time as data is added incrementally.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index_file</strong> (<em>str</em>) – path to stored index</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>nmslib index object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>nmslib.FloatIndex</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.generate_index">
<span class="sig-name descname"><span class="pre">generate_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nn_strings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">efC</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.generate_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.generate_index" title="Permalink to this definition"></a></dt>
<dd><p>Build an nmslib index based on a list of nn_strings and a set of parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nn_strings</strong> (<em>list</em>) – strings of the form ‘FIRST::LAST’ to shingle and put in matrix (rows)</p></li>
<li><p><strong>num_workers</strong> (<em>int</em>) – number of threads nmslib should use when parallelizing</p></li>
<li><p><strong>M</strong> – nmslib parameters</p></li>
<li><p><strong>efc</strong> – nmslib parameters</p></li>
<li><p><strong>post</strong> – nmslib parameters</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – weight of last-name relative to first-name</p></li>
<li><p><strong>power</strong> (<em>float</em>) – parameter controlling the impact of name length on cosine distance</p></li>
<li><p><strong>print_progress</strong> (<em>bool</em>) – controls verbosity of index creation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>nmslib index object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>nmslib.FloatIndex</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.get_indices">
<span class="sig-name descname"><span class="pre">get_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_nn_strings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">og_blocking_index_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.get_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.get_indices" title="Permalink to this definition"></a></dt>
<dd><p>Wrapper function coordinating the creation and/or loading of the nmslib indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains matching parameter values</p></li>
<li><p><strong>all_nn_strings</strong> – list of all unique nn_strings in the data (expanded if split_names is True)</p></li>
<li><p><strong>og_blocking_index_file</strong> – path to a pre-build nmslib index (optional, if doesn’t exist then None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>tuple containing:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>main_index</strong> (<em>nmslib.FloatIndex</em>): the main nmslib index</p></li>
<li><p><strong>main_index_nn_strings</strong> (<em>list</em>): nn_strings that are in the main nmslib index</p></li>
<li><p><strong>second_index</strong> (<em>nmslib.FloatIndex</em>): the secondary nmslib index for querying new nn_strings during incremental runs (often None)</p></li>
<li><p><strong>second_index_nn_strings</strong> (<em>list</em>): nn_strings that are in the secondary nmslib index (often None)</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.generate_candidate_pairs">
<span class="sig-name descname"><span class="pre">generate_candidate_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nn_strings_to_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shingles_to_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_string_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_string_expanded_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_index_nn_strings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_index_nn_strings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.generate_candidate_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.generate_candidate_pairs" title="Permalink to this definition"></a></dt>
<dd><p>Wrapper function for querying the nmslib index (or indices) and getting
non-matching candidate pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nn_strings_to_query</strong> (<em>list</em>) – nn_strings in new data – those that need near neighbors</p></li>
<li><p><strong>shingles_to_query</strong> (<em>csr_matrix</em>) – shingles matrix for nn_strings_to_query</p></li>
<li><p><strong>nn_string_info</strong> (<em>pd.DataFrame</em>) – table with one row per nn_string (or expanded nn_string)</p></li>
<li><p><strong>nn_string_expanded_df</strong> (<em>pd.DataFrame</em>) – maps a nn_string to a ed_string and absval_string</p></li>
<li><p><strong>main_index</strong> (<em>nmslib index</em>) – the main nmslib index for querying</p></li>
<li><p><strong>main_index_nn_strings</strong> (<em>list</em>) – nn_strings in main_index</p></li>
<li><p><strong>second_index</strong> (<em>nmslib index</em>) – the secondary nmslib index, for some incremental runs</p></li>
<li><p><strong>second_index_nn_strings</strong> (<em>list</em>) – nn_strings in second_index</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – batch size. Default is 10000 and can be modify in config.yaml file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>candidate-pairs list, before adding in uncovered pairs</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>concatenated version of blocking columns for first element in pair (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>concatenated version of blocking columns for second element in pair (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>cos_dist</p></td>
<td><p>approximate cosine distance between two nn_strings (nmslib)</p></td>
</tr>
<tr class="row-even"><td><p>edit_dist</p></td>
<td><p>number of character edits between ed-strings</p></td>
</tr>
<tr class="row-odd"><td><p>covered_pair</p></td>
<td><p>flag; 1 for pairs that made it through blocking, 0 otherwise; all 1s here</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.compute_cosine_sim">
<span class="sig-name descname"><span class="pre">compute_cosine_sim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blockstrings_in_pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairs_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shingles_matrix</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.compute_cosine_sim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.compute_cosine_sim" title="Permalink to this definition"></a></dt>
<dd><p>Fast cosine similarity computation using the shingles matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blockstrings_in_pairs</strong> (<em>list</em>) – used to get index of different strings in shingles_matrix</p></li>
<li><p><strong>pairs_df</strong> (<em>pd.DataFrame</em>) – <p>blockstrings you want cosine distance between</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>blockstring for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>blockstring for the second record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>covered_pair</p></td>
<td><p>flag, 1 if covered 0 otherwise</p></td>
</tr>
<tr class="row-even"><td><p>nn_strings_1</p></td>
<td><p>nn_string for the first record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>nn_strings_2</p></td>
<td><p>nn_string for the second record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>both_nn_strings</p></td>
<td><p>nn_string_1 + ‘ ‘ + nn_string_2</p></td>
</tr>
</tbody>
</table>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>weighted shingles matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>shingles_matrix (csr_matrix)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.evaluate_blocking">
<span class="sig-name descname"><span class="pre">evaluate_blocking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cp_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tp_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking_scheme</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.evaluate_blocking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.evaluate_blocking" title="Permalink to this definition"></a></dt>
<dd><p>The evaluate_blocking function computes the pair completeness metrics to
determine how successful blocking was at minimizing comparisons and
maximizing true positives (i.e. generating a candidate pair between
records that are actually matches).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cp_df</strong> (<em>pd.DataFrame</em>) – candidate pairs df</p></li>
<li><p><strong>tp_df</strong> (<em>pd.DataFrame</em>) – true pairs df (blockstring_1, blockstring_2)</p></li>
<li><p><strong>blocking_scheme</strong> (<em>dict</em>) – blocking_scheme (dict): dictionary with info on how to do blocking</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>portion of candidate-pairs dataframe where covered == 0</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.add_uncovered_pairs">
<span class="sig-name descname"><span class="pre">add_uncovered_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">candidate_pairs_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncovered_pairs_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.add_uncovered_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.add_uncovered_pairs" title="Permalink to this definition"></a></dt>
<dd><p>Add the uncovered pairs to the candidate pairs dataframe so that all of the
known pairs are in the candidate pairs list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>candidate_pairs_df</strong> (<em>pd.DataFrame</em>) – candidate pairs file produced by blocking</p></li>
<li><p><strong>uncovered_pairs_df</strong> (<em>pd.DataFrame</em>) – uncovered pairs produced by evaluating blocking</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>candidate-pairs file</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>concatenated version of blocking columns for first element in pair (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>concatenated version of blocking columns for second element in pair (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>cos_dist</p></td>
<td><p>approximate cosine distance between two nn_strings (nmslib)</p></td>
</tr>
<tr class="row-even"><td><p>edit_dist</p></td>
<td><p>number of character edits between ed-strings</p></td>
</tr>
<tr class="row-odd"><td><p>covered_pair</p></td>
<td><p>flag; 1 for pairs that made it through blocking, 0 otherwise</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.apply_blocking_filter">
<span class="sig-name descname"><span class="pre">apply_blocking_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_string_expanded_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nns_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.apply_blocking_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.apply_blocking_filter" title="Permalink to this definition"></a></dt>
<dd><p>Compare similarity of names and DOBs to see if a pair of records are likely to be a match.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – <p>holds similarity and commonness info about pairs of names</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>nn_string_1</p></td>
<td><p>concatenated version of nn-blocking columns for first element in pair (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>nn_string_2</p></td>
<td><p>concatenated version of nn-blocking columns for second element in pair (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>cos_dist</p></td>
<td><p>approximate cosine distance between two nn_strings (nmslib)</p></td>
</tr>
<tr class="row-even"><td><p>commonness_penalty_1</p></td>
<td><p>penalty for last-name commonness for first element in pair</p></td>
</tr>
<tr class="row-odd"><td><p>commonness_penalty_2</p></td>
<td><p>penalty for last-name commonness for second element in pair</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>thresholds</strong> (<em>dict</em>) – information about what blocking distances are allowed</p></li>
<li><p><strong>nn_string_expanded_df</strong> (<em>pd.DataFrame</em>) – maps a nn_string to a ed_string and absval_string</p></li>
<li><p><strong>nns_match</strong> (<em>bool</em>) – True if this function is called by get_exact_match_candidate_pairs</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>chunk of the candidate-pairs list</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>concatenated version of blocking columns for first element in pair (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>concatenated version of blocking columns for second element in pair (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>cos_dist</p></td>
<td><p>approximate cosine distance between two nn_strings (nmslib)</p></td>
</tr>
<tr class="row-even"><td><p>edit_dist</p></td>
<td><p>number of character edits between ed-strings</p></td>
</tr>
<tr class="row-odd"><td><p>covered_pair</p></td>
<td><p>flag; 1 for pairs that made it through blocking, 0 otherwise; all 1s here</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.disallow_switched_pairs">
<span class="sig-name descname"><span class="pre">disallow_switched_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incremental</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_strings_to_query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.disallow_switched_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.disallow_switched_pairs" title="Permalink to this definition"></a></dt>
<dd><p>Look through the columns nn_string_1 and nn_string_2 and keep only rows where
nn_string1 &lt;= nn_string2 to prevent duplicates in the end (i.e. ABBY-&gt;ZABBY &amp;
ZABBY-&gt;ABBY; only one is needed). Special case for incremental runs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – holds similarity and commonness info about pairs of names</p></li>
<li><p><strong>incremental</strong> (<em>bool</em>) – Ture if current run incremental</p></li>
<li><p><strong>nn_strings_to_query</strong> (<em>list</em>) – nn_strings that are in “to query” list</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>same as input df, but no AB/BA duplicates</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.get_actual_candidates">
<span class="sig-name descname"><span class="pre">get_actual_candidates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">near_neighbors_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_string_expanded_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_strings_to_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incremental</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.get_actual_candidates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.get_actual_candidates" title="Permalink to this definition"></a></dt>
<dd><p>Actually determines whether two names become candidates; this function is launched by
generate_candidate_pairs() and run on individual worker threads to speed up processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>near_neighbors_df</strong> (<em>pd.DataFrame</em>) – <p>holds similarity and commonness info about pairs of names</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>nn_string_ix</p></td>
<td><p>a string with nn_string_ix = i is the string located at nn_strings_queried_this_batch[i]</p></td>
</tr>
<tr class="row-even"><td><p>nn_string_1</p></td>
<td><p>concatenated version of nn-blocking columns for first element in pair (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>nn_string_2</p></td>
<td><p>concatenated version of nn-blocking columns for second element in pair (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>cos_dist</p></td>
<td><p>approximate cosine distance between two nn_strings (nmslib)</p></td>
</tr>
<tr class="row-odd"><td><p>commonness_penalty_1</p></td>
<td><p>penalty for last-name commonness for first element in pair</p></td>
</tr>
<tr class="row-even"><td><p>commonness_penalty_2</p></td>
<td><p>penalty for last-name commonness for second element in pair</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>nn_string_expanded_df</strong> (<em>pandas dataframe</em>) – table at nn_string/ed_string/absval_string level (expanded if split_name is True)</p></li>
<li><p><strong>nn_strings_to_query</strong> (<em>list</em>) – nn_strings in the “to query” list (needed for incremental check)</p></li>
<li><p><strong>thresholds</strong> (<em>dict</em>) – information about what blocking distances are allowed</p></li>
<li><p><strong>incremental</strong> (<em>bool</em>) – True if current run incremental</p></li>
<li><p><strong>output</strong> – None if the output should be returned, rather than written</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>chunk of the candidate-pairs list</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>concatenated version of blocking columns for first element in pair (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>concatenated version of blocking columns for second element in pair (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>cos_dist</p></td>
<td><p>approximate cosine distance between two nn_strings (nmslib)</p></td>
</tr>
<tr class="row-even"><td><p>edit_dist</p></td>
<td><p>number of character edits between ed-strings</p></td>
</tr>
<tr class="row-odd"><td><p>covered_pair</p></td>
<td><p>flag; 1 for pairs that made it through blocking, 0 otherwise; all 1s here</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.get_near_neighbors_df">
<span class="sig-name descname"><span class="pre">get_near_neighbors_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">near_neighbors_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_string_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_strings_this_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_strings_queried_this_batch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.get_near_neighbors_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.get_near_neighbors_df" title="Permalink to this definition"></a></dt>
<dd><p>For a small batch of names (nn_strings_queried_this_batch), format a dataframe that
enumerates every pair of (name in this batch, a near neighbor), along with information about
similarity and commonness.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>near_neighbors_list</strong> (<em>list</em>) – list of (list of k IDs, list of k distances) tuples, of length batch_size</p></li>
<li><p><strong>nn_string_info</strong> (<em>pd.DataFrame</em>) – table mapping nn_string to commonness_penalty</p></li>
<li><p><strong>nn_strings_this_index</strong> (<em>list</em>) – nn_strings in the current index</p></li>
<li><p><strong>nn_strings_queried_this_batch</strong> (<em>list</em>) – nn_strings in the current query batch (length batch_size),
whose neighbors are stored in near_neighbors_list</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>holds similarity and commonness info about pairs of names</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>nn_string_ix</p></td>
<td><p>a string with nn_string_ix = i is the string located at nn_strings_queried_this_batch[i]</p></td>
</tr>
<tr class="row-even"><td><p>nn_string_1</p></td>
<td><p>concatenated version of nn-blocking columns for first element in pair (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>nn_string_2</p></td>
<td><p>concatenated version of nn-blocking columns for second element in pair (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>cos_dist</p></td>
<td><p>approximate cosine distance between two nn_strings (nmslib)</p></td>
</tr>
<tr class="row-odd"><td><p>commonness_penalty_1</p></td>
<td><p>penalty for last-name commonness for first element in pair</p></td>
</tr>
<tr class="row-even"><td><p>commonness_penalty_2</p></td>
<td><p>penalty for last-name commonness for second element in pair</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.block.Block.get_exact_match_candidate_pairs">
<span class="sig-name descname"><span class="pre">get_exact_match_candidate_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nn_string_info_multi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_string_expanded_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking_thresholds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#Block.get_exact_match_candidate_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.Block.get_exact_match_candidate_pairs" title="Permalink to this definition"></a></dt>
<dd><p>All nn_strings that appear more than once need to have a corresponding
nn_string, nn_string candidate pair – we can skip the “approximation” easily
for this type of candidate pair.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nn_string_info_multi</strong> (<em>pd.DataFrame</em>) – nn_string_info, subset to nn_strings with n_new &gt; 0 &amp; n_total &gt; 1</p></li>
<li><p><strong>nn_string_expanded_df</strong> (<em>pd.DataFrame</em>) – table at nn_string/ed_string/absval_string level (expanded if split_name is True)</p></li>
<li><p><strong>blocking_thresholds</strong> (<em>dict</em>) – dictionary with thresholds for blocking, e.g. high and low bar</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>portion of the candidate pairs list (where nn_string_1 == nn_string_2)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>nn_string</p></td>
<td><p>concatenated version of nn-blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>commonness_penalty</p></td>
<td><p>float indicating how common the last name is</p></td>
</tr>
<tr class="row-odd"><td><p>n_new</p></td>
<td><p>number of times this nn_string appears in a “new” record</p></td>
</tr>
<tr class="row-even"><td><p>n_existing</p></td>
<td><p>number of times this nn_string appears in an “existing” record</p></td>
</tr>
<tr class="row-odd"><td><p>n_total</p></td>
<td><p>number of times this nn_string appears in any record</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.get_blocking_columns">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">get_blocking_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blocking_scheme</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#get_blocking_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.get_blocking_columns" title="Permalink to this definition"></a></dt>
<dd><p>Get the list of blocking variables for each type of blocking:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blocking_scheme</strong> (<em>dict</em>) – dictionary with info on how to do blocking</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the variable names needed for each type of blocking</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of string list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.read_an">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">read_an</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">an_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ed_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absval_col</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#read_an"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.read_an" title="Permalink to this definition"></a></dt>
<dd><p>Read in relevant columns for blocking from the all-names file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>an_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>nn_cols</strong> (<em>list</em><em> of </em><em>strings</em>) – variables for near neighbor blocking</p></li>
<li><p><strong>ed_col</strong> (<em>list</em><em> of </em><em>strings</em>) – variables for edit-distance blocking</p></li>
<li><p><strong>absval_col</strong> (<em>list</em><em> of </em><em>strings</em>) – variables for absolute-value blocking</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>all-names dataframe, relevant columns only (where drop_from_nm == 0)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>blockstring</p></td>
<td><p>concatenation of all the blocking variables (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>file_type</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;nn-blocking column(s)&gt;</p></td>
<td><p>variables for near-neighbor blocking</p></td>
</tr>
<tr class="row-even"><td><p>&lt;ed-blocking column&gt;</p></td>
<td><p>variable for edit-distance blocking</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;av-blocking column&gt;</p></td>
<td><p>(optional) variable for abs-value blocking</p></td>
</tr>
<tr class="row-even"><td><p>nn_string</p></td>
<td><p>concatenated version of nm-blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>ed_string</p></td>
<td><p>copy of ed-blocking column</p></td>
</tr>
<tr class="row-even"><td><p>absval_string</p></td>
<td><p>copy of ed-blocking column</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.get_nn_string_counts">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">get_nn_string_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">an</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#get_nn_string_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.get_nn_string_counts" title="Permalink to this definition"></a></dt>
<dd><p>Count number of records per nn_strings (per file_type).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>an</strong> (<em>pd.DataFrame</em>) – <p>all-names table, relevant columns only (where drop_from_nm == 0)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>blockstring</p></td>
<td><p>concatenation of all the blocking variables (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>file_type</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;nn-blocking column(s)&gt;</p></td>
<td><p>variables for near-neighbor blocking</p></td>
</tr>
<tr class="row-even"><td><p>&lt;ed-blocking column&gt;</p></td>
<td><p>variable for edit-distance blocking</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;av-blocking column&gt;</p></td>
<td><p>(optional) variable for abs-value blocking</p></td>
</tr>
<tr class="row-even"><td><p>nn_string</p></td>
<td><p>concatenated version of nm-blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>ed_string</p></td>
<td><p>copy of ed-blocking column</p></td>
</tr>
<tr class="row-even"><td><p>absval_string</p></td>
<td><p>copy of ed-blocking column</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>two keys (new and existing), mapping to a dictionary of nn_strings to n_records</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.get_common_name_penalties">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">get_common_name_penalties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clean_last_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_penalty</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threshold_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#get_common_name_penalties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.get_common_name_penalties" title="Permalink to this definition"></a></dt>
<dd><p>Create a dictionary mapping each last name to a “commonness penalty.” Two SMITHs are
less likely to be the same person than two HANDAs, since SMITH is such a common name. This
function quantifies this penalty for use in later blocking calculations. A more common name
recieves a higher number, topping out at max_penalty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clean_last_names</strong> (<em>pd.Series</em>) – clean (un-split) last name column (one row per record)</p></li>
<li><p><strong>max_penalty</strong> (<em>float</em>) – the maximum penalty (for the most common names)</p></li>
<li><p><strong>num_threshold_bins</strong> (<em>int</em>) – number of different categories of commonnness to create</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary mapping name (str) to penalty (float)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.get_all_shingles">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">get_all_shingles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#get_all_shingles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.get_all_shingles" title="Permalink to this definition"></a></dt>
<dd><p>Get all valid 2-shingles.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>valid 2-shingles</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.prep_index">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">prep_index</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#prep_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.prep_index" title="Permalink to this definition"></a></dt>
<dd><p>Initialize index data structure, which will store similarity information
about the names, and load processed shingles into it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>nmslib index object (pre time-consuming build call)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>nnmslib.FloatIndex</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.get_second_index_nn_strings">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">get_second_index_nn_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_nn_strings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_nn_strings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#get_second_index_nn_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.get_second_index_nn_strings" title="Permalink to this definition"></a></dt>
<dd><p>Get nn_strings that haven’t already been stored in the main index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>all_nn_strings</strong> (<em>list</em>) – list of all nn_strings in the data (expanded if split_names is True)</p></li>
<li><p><strong>main_nn_strings</strong> (<em>list</em>) – list of nn_strings already in the main index</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the nn_strings that are not in main_nn_strings</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.save_main_index">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">save_main_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">main_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_index_nn_strings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_index_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#save_main_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.save_main_index" title="Permalink to this definition"></a></dt>
<dd><p>Save the main nmslib index and pickle dump the associated nn_strings list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main_index</strong> (<em>nmslib.FloatIndex</em>) – the main, built nmslib index</p></li>
<li><p><strong>main_index_nn_strings</strong> (<em>list</em>) – list of nn_strings in the main index</p></li>
<li><p><strong>main_index_file</strong> (<em>str</em>) – path to store the main nmslib index</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.load_main_index_nn_strings">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">load_main_index_nn_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">og_blocking_index_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#load_main_index_nn_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.load_main_index_nn_strings" title="Permalink to this definition"></a></dt>
<dd><p>Load the nn_strings that are in an existing nmslbi index file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>og_blocking_index_file</strong> (<em>str</em>) – path to original blocking index</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>loaded list of nn_strings in an existing nmslib index</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.write_some_cps">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">write_some_cps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cand_pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidate_pairs_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#write_some_cps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.write_some_cps" title="Permalink to this definition"></a></dt>
<dd><p>Write out a portion of the candidate-pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cand_pairs</strong> (<em>pd.DataFrame</em>) – chunk of the candidate-pairs file</p></li>
<li><p><strong>candidate_pairs_file</strong> (<em>str</em>) – path to the candidate-pairs file</p></li>
<li><p><strong>header</strong> (<em>bool</em>) – True if this is the first time calling this function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.block.generate_true_pairs">
<span class="sig-prename descclassname"><span class="pre">namematch.block.</span></span><span class="sig-name descname"><span class="pre">generate_true_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">must_links_df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/block.html#generate_true_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.block.generate_true_pairs" title="Permalink to this definition"></a></dt>
<dd><p>Reduce the must-link records pairs must-link blockstring pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>must_links_df</strong> (<em>pd.DataFrame</em>) – <p>list of must-link record pairs</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id_1</p></td>
<td><p>unique identifier for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>record_id_2</p></td>
<td><p>unique identifier for the second record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>blockstring for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>blockstring for the second record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>drop_from_nm_1</p></td>
<td><p>flag, 1 if the first record in the pair was not eligible for matching</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm_2</p></td>
<td><p>flag, 1 if the second record in the pair was not eligible for matching</p></td>
</tr>
<tr class="row-odd"><td><p>existing</p></td>
<td><p>flag, 1 if the pair is must-link because of ExistingID</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>list of must-link blockstring pairs (where both record have drop_from_nm == 0)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>blockstring for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>blockstring for the second record in the pair</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-namematch.generate_data_rows">
<span id="namematch-generate-data-rows"></span><h2><a class="reference internal" href="#module-namematch.generate_data_rows" title="namematch.generate_data_rows"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.generate_data_rows</span></code></a><a class="headerlink" href="#module-namematch.generate_data_rows" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.generate_data_rows.GenerateDataRows">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.generate_data_rows.</span></span><span class="sig-name descname"><span class="pre">GenerateDataRows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidate_pairs_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_data_rows.html#GenerateDataRows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_data_rows.GenerateDataRows" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.generate_data_rows.GenerateDataRows.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.generate_data_rows.GenerateDataRows.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_data_rows.GenerateDataRows.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_data_rows.html#GenerateDataRows.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_data_rows.GenerateDataRows.main" title="Permalink to this definition"></a></dt>
<dd><p>Take candidate pairs and merge on the all-names records (twice) to get a dataset at the
record pair level. Compute distance metrics between the records in the pair – these are the
features for modeling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
<li><p><strong>schema</strong> (<em>Schema object</em>) – contains match schema info (files to match, variables to use, etc.)</p></li>
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>candidate_pairs_file</strong> (<em>str</em>) – path to the candidate-pairs file</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – path to the data-rows dir</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_data_rows.GenerateDataRows.generate_name_probabilities_object">
<span class="sig-name descname"><span class="pre">generate_name_probabilities_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">an</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ln_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_data_rows.html#GenerateDataRows.generate_name_probabilities_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_data_rows.GenerateDataRows.generate_name_probabilities_object" title="Permalink to this definition"></a></dt>
<dd><p>The generate_name_probabilites function uses a list of names (from all_names
file) and creates an object containing queryable probability
information for each name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>an</strong> (<em>pd.DataFrame</em>) – all-names, just the name columns</p></li>
<li><p><strong>fn_col</strong> (<em>str</em>) – name of first name column</p></li>
<li><p><strong>ln_col</strong> (<em>str</em>) – name of last name column</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>name probability object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_data_rows.GenerateDataRows.find_valid_training_records">
<span class="sig-name descname"><span class="pre">find_valid_training_records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">an</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">an_match_criteria</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_data_rows.html#GenerateDataRows.find_valid_training_records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_data_rows.GenerateDataRows.find_valid_training_records" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_data_rows.GenerateDataRows.generate_actual_data_rows">
<span class="sig-name descname"><span class="pre">generate_actual_data_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sbs_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">np_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_iter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_data_rows.html#GenerateDataRows.generate_actual_data_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_data_rows.GenerateDataRows.generate_actual_data_rows" title="Permalink to this definition"></a></dt>
<dd><p>Create modeling dataframe by comparing each variable (via numerous distance metrics).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains matching parameters</p></li>
<li><p><strong>schema</strong> (<em>Schema object</em>) – contains matching schema (data files and variables)</p></li>
<li><p><strong>sbs_df</strong> (<em>pd.DatFrame</em>) – <p>side-by-side table (record pair level, with info from both an records)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id (_1, _2)</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>blockstring (_1, _2)</p></td>
<td><p>concatenated version of blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>file_type (_1, _2)</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-even"><td><p>candidate_pair_ix</p></td>
<td><p>index from candidate-pairs list</p></td>
</tr>
<tr class="row-odd"><td><p>covered_pair</p></td>
<td><p>flag, 1 if blockstring pair passed blocking 0 otherwise</p></td>
</tr>
<tr class="row-even"><td><p>&lt;fields for matching&gt; (_1, _2)</p></td>
<td><p>both for the matching model and for constraint checking</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>np_object</strong> (<em>nm_prob.NameProbability object</em>) – contains information about name probabilities</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>chunk of the data-rows file</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>dr_id</p></td>
<td><p>unique record pair identifier (record_id_1__record_id_2)</p></td>
</tr>
<tr class="row-even"><td><p>record_id (_1, _2)</p></td>
<td><p>unique record identifiers</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;distance metrics&gt;</p></td>
<td><p>how similar are the different matching fields between recrods</p></td>
</tr>
<tr class="row-even"><td><p>label</p></td>
<td><p>”1” if the records refer to the same person, “0” if not, “” otherwise</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_data_rows.GenerateDataRows.generate_data_row_files">
<span class="sig-name descname"><span class="pre">generate_data_row_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">an</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cp_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_probs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_ix_worker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_ix_worker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_data_rows.html#GenerateDataRows.generate_data_row_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_data_rows.GenerateDataRows.generate_data_row_files" title="Permalink to this definition"></a></dt>
<dd><p>The get_data_row_files function is run in parallel to generate the data needed for
the random forest; it performs the merge between candidate pairs and all-names and
calls the function that calculates distance metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains matching parameters</p></li>
<li><p><strong>schema</strong> (<em>Schema object</em>) – contains matching schema (data files and variables)</p></li>
<li><p><strong>an</strong> (<em>pd.DatFrame</em>) – <p>all-names table (one row per input record)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>file_type</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;fields for matching&gt;</p></td>
<td><p>both for the matching model and for constraint checking</p></td>
</tr>
<tr class="row-even"><td><p>&lt;raw name fields&gt;</p></td>
<td><p>pre-cleaning version of first and last name</p></td>
</tr>
<tr class="row-odd"><td><p>blockstring</p></td>
<td><p>concatenated version of blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>cp_df</strong> (<em>pd.DataFrame</em>) – <p>candidate-pairs list</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>concatenated version of blocking columns for first element in pair (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>concatenated version of blocking columns for second element in pair (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>covered_pair</p></td>
<td><p>flag; 1 for pairs that made it through blocking, 0 otherwise; all 1s here</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>name_probs</strong> (<em>nm_prob.NameProbability object</em>) – contains information about name probabilities</p></li>
<li><p><strong>start_ix_worker</strong> (<em>int</em>) – starting index of the candidate-pairs chunk to read in this thread</p></li>
<li><p><strong>end_ix_worker</strong> (<em>int</em>) – end index of the candidate-pairs chunk to read in this thread</p></li>
<li><p><strong>dr_file</strong> (<em>str</em>) – path to data-rows file to write (one for each worker thread)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.fit_model">
<span id="namematch-fit-model"></span><h2><a class="reference internal" href="#module-namematch.fit_model" title="namematch.fit_model"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.fit_model</span></code></a><a class="headerlink" href="#module-namematch.fit_model" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.fit_model.</span></span><span class="sig-name descname"><span class="pre">FitModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_rows_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trained_model_info_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'None'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'basic_selection_model.pkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'basic_match_model.pkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flipped0_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#FitModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.FitModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>data_rows_dir</strong> (<em>str</em>) – path to the data-rows dir</p></li>
<li><p><strong>model_info_file</strong> (<em>str</em>) – path to the model info yaml file</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – path to the model dir</p></li>
<li><p><strong>traiend_model_info_file</strong> (<em>str</em>) – path to the model info yaml file of a previously trained model</p></li>
<li><p><strong>selection_model_name</strong> (<em>str</em>) – selection model name</p></li>
<li><p><strong>match_model_name</strong> (<em>str</em>) – match model name</p></li>
<li><p><strong>flipped0_file</strong> (<em>str</em>) – flipped0 file path</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.fit_model.FitModel.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel.dr_file_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dr_file_list</span></span><a class="headerlink" href="#namematch.fit_model.FitModel.dr_file_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#FitModel.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.FitModel.main" title="Permalink to this definition"></a></dt>
<dd><p>Train and evaluate random foreset model(s). Depending on the settings, this might involved
training and evaluating multiple types of models (e.g. selection and match models) and/or models
for different data-row types (e.g. basic and no-dob).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel.fit_model">
<span class="sig-name descname"><span class="pre">fit_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vars_to_exclude</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#FitModel.fit_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.FitModel.fit_model" title="Permalink to this definition"></a></dt>
<dd><p>Fit random forest model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – data rows, subset to training rows</p></li>
<li><p><strong>vars_to_exclude</strong> (<em>list</em>) – variables to disallow from the model</p></li>
<li><p><strong>outcome</strong> (<em>string</em>) – name of the column that we’re predicting</p></li>
<li><p><strong>weights</strong> (<em>list</em>) – sample weights to use for training (can be None)</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em>) – number of jobs to run in parallel</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>tuple containing:</p>
<ul class="simple">
<li><p><strong>mod</strong> (<em>sklearn.ensemble.RandomForestClassifier</em>): trained sklearn random forest model object</p></li>
<li><p><strong>feature_info</strong> (<em>pd.DataFrame</em>): feature_importance</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel.fit_models">
<span class="sig-name descname"><span class="pre">fit_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#FitModel.fit_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.FitModel.fit_models" title="Permalink to this definition"></a></dt>
<dd><p>Fit random forest model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_df</strong> (<em>pd.DataFrame</em>) – data rows, subset to training rows</p></li>
<li><p><strong>model_type</strong> (<em>string</em>) – either “selection” or “match”</p></li>
<li><p><strong>model_info</strong> (<em>dict</em>) – dict with information about how to fit the model</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>maps model name (e.g. basic or no_dob) to a trained model object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel.evaluate_models">
<span class="sig-name descname"><span class="pre">evaluate_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phats_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_using_selection_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missingness_model_threshold_boost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimize_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fscore_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#FitModel.evaluate_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.FitModel.evaluate_models" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel.get_train_eval_data">
<span class="sig-name descname"><span class="pre">get_train_eval_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">an_train_eligible_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">any_train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#FitModel.get_train_eval_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.FitModel.get_train_eval_data" title="Permalink to this definition"></a></dt>
<dd><p>Load data-rows, filter to rows that are eligible for training a givem model type, and then split
the data into a training set and a labeled evaulation set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>an_train_eligible_dict</strong> (<em>dict</em>) – maps record_id to flag indicating record’s all-names based training eligibility</p></li>
<li><p><strong>model_info</strong> (<em>dict</em>) – dict with information about how to fit the model</p></li>
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
<li><p><strong>model_type</strong> (<em>str</em>) – either “selection” or “match”</p></li>
<li><p><strong>any_train</strong> (<em>bool</em>) – True if you want training data (e.g. not a pre-trained model), False otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>data rows, filtered to training data (excluding labeled eval data)
pd.DataFrame: data rows, filtered to labeled eval data
float: share of data rows that are labeled</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.fit_model.FitModel.find_valid_training_records">
<span class="sig-name descname"><span class="pre">find_valid_training_records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">an</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">an_match_criteria</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#FitModel.find_valid_training_records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.FitModel.find_valid_training_records" title="Permalink to this definition"></a></dt>
<dd><p>Identify records that meet the all-names criteria for training data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>an</strong> (<em>pd.DataFrame</em>) – <p>all-names table (one row per input record)</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>file_type</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;fields for matching&gt;</p></td>
<td><p>both for the matching model and for constraint checking</p></td>
</tr>
<tr class="row-even"><td><p>&lt;raw name fields&gt;</p></td>
<td><p>pre-cleaning version of first and last name</p></td>
</tr>
<tr class="row-odd"><td><p>blockstring</p></td>
<td><p>concatenated version of blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>an_match_criteria</strong> (<em>dict</em>) – keys are all-names columns, mapped to acceptable values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>flag, 1 if the record is eligible for training set 0 otherwise</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.fit_model.get_feature_info">
<span class="sig-prename descclassname"><span class="pre">namematch.fit_model.</span></span><span class="sig-name descname"><span class="pre">get_feature_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pipeline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_num_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_cat_cols</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#get_feature_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.get_feature_info" title="Permalink to this definition"></a></dt>
<dd><p>Extract the feature importance information from a sklearn model pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pipeline</strong> (<em>skleran fitted pipeline</em>) – trained model</p></li>
<li><p><strong>raw_num_cols</strong> (<em>list</em>) – numeric columns that went into the model (before pipeline processing)</p></li>
<li><p><strong>raw_cat_cols</strong> (<em>list</em>) – categorical columns that went into the model (before pipeline processing)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>feature importance information</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>feature</p></td>
<td><p>name of the feautre</p></td>
</tr>
<tr class="row-even"><td><p>importance</p></td>
<td><p>relative importance of this feature to the model</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.fit_model.save_models">
<span class="sig-prename descclassname"><span class="pre">namematch.fit_model.</span></span><span class="sig-name descname"><span class="pre">save_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selection_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#save_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.save_models" title="Permalink to this definition"></a></dt>
<dd><p>Save the models to file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selection_models</strong> (<em>dict</em>) – maps model name (e.g. basic or no-dob) to a fit match model object</p></li>
<li><p><strong>match_models</strong> (<em>dict</em>) – maps model name (e.g. basic or no-dob) to a fit selection model object</p></li>
<li><p><strong>model_info</strong> (<em>dict</em>) – dict with information about how to fit the model</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.fit_model.define_necessary_models">
<span class="sig-prename descclassname"><span class="pre">namematch.fit_model.</span></span><span class="sig-name descname"><span class="pre">define_necessary_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_mod_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'basic_selection_model.pkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'basic_match_model.pkl'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#define_necessary_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.define_necessary_models" title="Permalink to this definition"></a></dt>
<dd><p>Determine the different models needed (using a sample) and
define the characteristics of data that determine which
model should handle it.</p>
<dl class="simple">
<dt>NOTE: Right now, there is an assumption that the training universe</dt><dd><p>is the same between all models (i.e. basic and missingness)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dr_file_list</strong> (<em>list</em>) – list of paths to all data row files</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – model output folder path</p></li>
<li><p><strong>missing_mod_field</strong> (<em>str</em><em> or </em><em>None</em>) – field that could trigger need for separate model</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>mapping the name of a model (str) to a dict of the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p>selection_model_name (str)</p></li>
<li><p>match_model_name (str)</p></li>
<li><p>type (str): one of “default” or “missingness”</p></li>
<li><p>actual_phat_universe (dict): maps a variable name to a value(?)</p></li>
<li><p>vars_to_exclude (str list)</p></li>
<li><p>match_thresh (float): threshold for match/nonmatch</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.fit_model.load_and_save_trained_model">
<span class="sig-prename descclassname"><span class="pre">namematch.fit_model.</span></span><span class="sig-name descname"><span class="pre">load_and_save_trained_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trained_model_info_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#load_and_save_trained_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.load_and_save_trained_model" title="Permalink to this definition"></a></dt>
<dd><p>Load a set of pre-trained models and copy them to the current run’s
output directory. Typically only used in incremental runs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trained_model_info_file</strong> (<em>str</em>) – path to a model yaml file, which has path/threshold/universe info</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – path to output the current run’s model yaml file (for copying)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>maps model name (e.g. basic or no_dob) to a trained model object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.fit_model.get_match_train_eligible_flag">
<span class="sig-prename descclassname"><span class="pre">namematch.fit_model.</span></span><span class="sig-name descname"><span class="pre">get_match_train_eligible_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dr_train_eligible_conditions_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">an_train_eligible_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#get_match_train_eligible_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.get_match_train_eligible_flag" title="Permalink to this definition"></a></dt>
<dd><p>Determine if a data-row is eligible for training (for match models), according
to both all-names eligibility criteria and data-row eligibility criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – portion of data-rows file, limited to labeled rows</p></li>
<li><p><strong>dr_train_eligible_conditions_dict</strong> (<em>dict</em>) – contains data-row training eligibility criteria</p></li>
<li><p><strong>an_train_eligible_dict</strong> (<em>dict</em>) – maps record_id to flag indicating record’s all-names based training eligibility</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>flag, 1 if data-row is training eligible (for match models)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.fit_model.add_threshold_dict">
<span class="sig-prename descclassname"><span class="pre">namematch.fit_model.</span></span><span class="sig-name descname"><span class="pre">add_threshold_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#add_threshold_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.add_threshold_dict" title="Permalink to this definition"></a></dt>
<dd><p>Add threshold information to the model_info dict, once it’s been determined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_info</strong> (<em>dict</em>) – dict with information about how to fit the model</p></li>
<li><p><strong>thresholds_dict</strong> (<em>dict</em>) – keys are model name (e.g. basic, no-dob), values are optimized thresholds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>model dict, now with threshold info</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.fit_model.get_flipped0_potential_edges">
<span class="sig-prename descclassname"><span class="pre">namematch.fit_model.</span></span><span class="sig-name descname"><span class="pre">get_flipped0_potential_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phats_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_clusters_w_multiple_unique_ids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/fit_model.html#get_flipped0_potential_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.fit_model.get_flipped0_potential_edges" title="Permalink to this definition"></a></dt>
<dd><p>If allowed, identify the set of labeled 0s with high phats so they can be treated
as matches downstream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phats_df</strong> (<em>pd.DataFrame</em>) – <p>phat info for record pairs</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id (_1, _2)</p></td>
<td><p>unique record identifiers</p></td>
</tr>
<tr class="row-even"><td><p>model_to_use</p></td>
<td><p>based on pair characteristics, which model to use (e.g. basic or no-dob)</p></td>
</tr>
<tr class="row-odd"><td><p>covered_pair</p></td>
<td><p>did the pair make it through blocking</p></td>
</tr>
<tr class="row-even"><td><p>match_train_eligible</p></td>
<td><p>is the pair eligible for training (for match model)</p></td>
</tr>
<tr class="row-odd"><td><p>exactmatch</p></td>
<td><p>is the pair an exact match on name/dob</p></td>
</tr>
<tr class="row-even"><td><p>label</p></td>
<td><p>whether the pair is a match or not</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;phat_col&gt;</p></td>
<td><p>predicted probability of match</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>model_info</strong> (<em>dict</em>) – dict with information about how to fit the model</p></li>
<li><p><strong>allow_clusters_w_multiple_unique_ids</strong> (<em>bool</em>) – param controlling if 0s can be flipped to 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>same as phats_df, just</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-namematch.predict">
<span id="namematch-predict"></span><h2><a class="reference internal" href="#module-namematch.predict" title="namematch.predict"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.predict</span></code></a><a class="headerlink" href="#module-namematch.predict" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.predict.Predict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.predict.</span></span><span class="sig-name descname"><span class="pre">Predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_rows_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/predict.html#Predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.predict.Predict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
<li><p><strong>model_info_file</strong> (<em>str</em>) – path to the data-rows dir</p></li>
<li><p><strong>data_rows_dir</strong> (<em>str</em>) – path to the model info yaml file for a trained model</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – path to the potential-links dir</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.predict.Predict.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.predict.Predict.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.predict.Predict.dr_file_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dr_file_list</span></span><a class="headerlink" href="#namematch.predict.Predict.dr_file_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.predict.Predict.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/predict.html#Predict.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.predict.Predict.main" title="Permalink to this definition"></a></dt>
<dd><p>Read in data-rows and predict (in parallel) for each unlabeled pair. Output
the pairs above the threshold.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.predict.Predict.get_potential_edges">
<span class="sig-name descname"><span class="pre">get_potential_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/predict.html#Predict.get_potential_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.predict.Predict.get_potential_edges" title="Permalink to this definition"></a></dt>
<dd><p>Read in data rows in chunks and predict as needed. Write (append)
the edges above the threshold to the appropriate file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dr_file</strong> (<em>string</em>) – path to data file to predict for</p></li>
<li><p><strong>match_models</strong> (<em>dict</em>) – maps model name (e.g. basic or no-dob) to a fit match model object</p></li>
<li><p><strong>model_info</strong> (<em>dict</em>) – contains information about threshold</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – directory to place potential links</p></li>
<li><p><strong>params</strong> (<em>Parameters obj</em>) – contains parameter values (i.e. use_uncovered_phats)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.predict.Predict.get_potential_edges_in_parallel">
<span class="sig-name descname"><span class="pre">get_potential_edges_in_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">match_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/predict.html#Predict.get_potential_edges_in_parallel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.predict.Predict.get_potential_edges_in_parallel" title="Permalink to this definition"></a></dt>
<dd><p>Dispatch the worker threads that will predict for unlabeled pairs in paralle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>match_models</strong> (<em>dict</em>) – maps model name (e.g. basic or no-dob) to a fit match model object</p></li>
<li><p><strong>model_info</strong> (<em>dict</em>) – dict with information about how to fit the model</p></li>
<li><p><strong>output_dir</strong> – </p></li>
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.predict.Predict.predict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prob_match_train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/predict.html#Predict.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.predict.Predict.predict" title="Permalink to this definition"></a></dt>
<dd><p>Use the trainined models to predict for pairs of records.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>models</strong> (<em>dict</em>) – maps model name (e.g. basic or no-dob) to a fit match model object</p></li>
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – portion of the data-rows table, with a “model_to_use” column appended</p></li>
<li><p><strong>model_type</strong> (<em>str</em>) – model type (e.g. selection or match)</p></li>
<li><p><strong>oob</strong> (<em>bool</em>) – if True, use the out-of-bag predictions</p></li>
<li><p><strong>all_cols</strong> (<em>bool</em>) – if True, keep all columns in the output df; not just the relevant ones</p></li>
<li><p><strong>all_models</strong> (<em>bool</em>) – if True, predict for each row using all models, not just the “model to use”</p></li>
<li><p><strong>prob_match_train</strong> (<em>float</em>) – share of data-rows that are labeled</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.cluster">
<span id="namematch-cluster"></span><h2><a class="reference internal" href="#module-namematch.cluster" title="namematch.cluster"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.cluster</span></code></a><a class="headerlink" href="#module-namematch.cluster" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.cluster.Constraints">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.cluster.</span></span><span class="sig-name descname"><span class="pre">Constraints</span></span><a class="reference internal" href="_modules/namematch/cluster.html#Constraints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Constraints" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.cluster.Constraints.get_columns_used">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_columns_used</span></span><a class="headerlink" href="#namematch.cluster.Constraints.get_columns_used" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.cluster.Constraints.is_valid_link">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_valid_link</span></span><a class="headerlink" href="#namematch.cluster.Constraints.is_valid_link" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.cluster.Constraints.is_valid_cluster">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_valid_cluster</span></span><a class="headerlink" href="#namematch.cluster.Constraints.is_valid_cluster" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="namematch.cluster.Constraints.apply_link_priority">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">apply_link_priority</span></span><a class="headerlink" href="#namematch.cluster.Constraints.apply_link_priority" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="namematch.cluster.Cluster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.cluster.</span></span><span class="sig-name descname"><span class="pre">Cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_links_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'must_links.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential_edges_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'potential_links'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flipped0_edges_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flipped0_potential_links.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all_names.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_assignments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cluster_assignments.pkl'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_to_cluster</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'edges_to_cluster.parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#namematch.cluster.Constraints" title="namematch.cluster.Constraints"><span class="pre">Constraints</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
<li><p><strong>schema</strong> (<em>Schema object</em>) – contains match schema info (files to match, variables to use, etc.)</p></li>
<li><p><strong>constraints</strong> (<em>str</em><em> or </em><em>Constrants object</em>) – either a path to python script defining constraint functions or a Constraints object</p></li>
<li><p><strong>must_links_file</strong> (<em>str</em>) – path to the must-links file</p></li>
<li><p><strong>potential_edges_dir</strong> (<em>str</em>) – path to the potential-links dir in the output/details folder</p></li>
<li><p><strong>flipped0_edges_file</strong> (<em>str</em>) – path to the flipped-links file</p></li>
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>cluster_assignments</strong> (<em>str</em>) – path to the cluster-assignments file</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.cluster.Cluster.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.main" title="Permalink to this definition"></a></dt>
<dd><p>Read the record pairs with high probability of matching and connect them in a way
that doesn’t violate any logic constraints to form clusters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.get_cluster_logic">
<span class="sig-name descname"><span class="pre">get_cluster_logic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constraints</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.get_cluster_logic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.get_cluster_logic" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.auto_is_valid_edge">
<span class="sig-name descname"><span class="pre">auto_is_valid_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_clusters_w_multiple_unique_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leven_thresh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eid_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.auto_is_valid_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.auto_is_valid_edge" title="Permalink to this definition"></a></dt>
<dd><p>Check if two records would violate a unique id or existing id constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edges_df</strong> (<em>pd.DataFrame</em>) – <p>potential edges information</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id_1</p></td>
<td><p>unique record identifier (for first in pair)</p></td>
</tr>
<tr class="row-even"><td><p>record_id_2</p></td>
<td><p>unique record identifier (for second in pair)</p></td>
</tr>
<tr class="row-odd"><td><p>phat</p></td>
<td><p>predicted probability of a record pair being a match</p></td>
</tr>
<tr class="row-even"><td><p>original_order</p></td>
<td><p>original ordering 1-N (useful so gt is always on top of phat=1 cases)</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>uid_cols</strong> (<em>list</em>) – all-names column(s) with compare_type UniqueID</p></li>
<li><p><strong>allow_clusters_w_multiple_unique_ids</strong> (<em>bool</em>) – True if a cluster can have multiple uid values</p></li>
<li><p><strong>leven_thresh</strong> (<em>int</em>) – n character edits to allow between uids before they’re considered different</p></li>
<li><p><strong>eid_col</strong> (<em>str</em>) – all-names column with compare_type ExistingID (None for non-incremental runs)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>potential edges information, but limited to rows that pass the automated validity check</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>valid_edges_df</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.auto_is_valid_cluster">
<span class="sig-name descname"><span class="pre">auto_is_valid_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_clusters_w_multiple_unique_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leven_thresh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eid_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.auto_is_valid_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.auto_is_valid_cluster" title="Permalink to this definition"></a></dt>
<dd><p>Check if a proposed cluster would violate a unique id or existing id constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster</strong> (<em>pd.DataFrame</em>) – all-names file (relevant columns only) records for the proposed cluster</p></li>
<li><p><strong>uid_cols</strong> (<em>list</em>) – all-names column(s) with compare_type UniqueID</p></li>
<li><p><strong>allow_clusters_w_multiple_unique_ids</strong> (<em>bool</em>) – True if a cluster can have multiple uid values</p></li>
<li><p><strong>leven_thresh</strong> (<em>int</em>) – n character edits to allow between uids before they’re considered different</p></li>
<li><p><strong>eid_col</strong> (<em>str</em>) – all-names column with compare_type ExistingID (None for non-incremental runs)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>False if an automated constraint is violated</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.get_initial_clusters">
<span class="sig-name descname"><span class="pre">get_initial_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">must_links_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">an_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eid_col</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.get_initial_clusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.get_initial_clusters" title="Permalink to this definition"></a></dt>
<dd><p>Use must links (ground truth and/or a previous run) to create the
starting clusters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>must_links_df</strong> (<em>pd.DataFrame</em>) – <p>record pairs that must be linked together no matter what</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id_1</p></td>
<td><p>unique identifier for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>record_id_2</p></td>
<td><p>unique identifier for the second record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>blockstring_1</p></td>
<td><p>blockstring for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>blockstring_2</p></td>
<td><p>blockstring for the second record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>drop_from_nm_1</p></td>
<td><p>flag, 1 if the first record in the pair was not eligible for matching</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm_2</p></td>
<td><p>flag, 1 if the second record in the pair was not eligible for matching</p></td>
</tr>
<tr class="row-odd"><td><p>existing</p></td>
<td><p>flag, 1 if the pair is must-link because of ExistingID</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>an_df</strong> (<em>pd.DataFrame</em>) – <p>all-names file, with only the columns relevant for clustering</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>&lt;uid column(s)&gt;</p></td>
<td><p>columns with compare_type UniqueID</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;eid column(s)&gt;</p></td>
<td><p>columns with compare_type ExistingID</p></td>
</tr>
<tr class="row-even"><td><p>&lt;user-constraint column(s)&gt;</p></td>
<td><p>(optional) columns mentioned in <cite>get_columns_used()</cite></p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>eid_col</strong> (<em>str</em>) – all-names column with compare_type ExistingID, or None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>clusters maps a cluster id to a list of record ids
dict: cluster_assignments maps a record_id to a cluster_id
set: cluster ids that are already in use (only for incremental)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.save_df_to_disk">
<span class="sig-name descname"><span class="pre">save_df_to_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.save_df_to_disk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.save_df_to_disk" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.get_potential_edges">
<span class="sig-name descname"><span class="pre">get_potential_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">potential_edges_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flipped0_edges_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt_1s_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_logic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eid_col</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.get_potential_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.get_potential_edges" title="Permalink to this definition"></a></dt>
<dd><p>Use all predictions file to make a list of edges that the constrained
clustering algorithm should try to add.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>potential_edges_files</strong> (<em>list</em>) – paths to the potential links files</p></li>
<li><p><strong>flipped0_edges_file</strong> (<em>str</em>) – path to the flipped0-links file</p></li>
<li><p><strong>gt_1s_df</strong> (<em>pd.DataFrame</em>) – known y=1s; will be matched, pending the edge/cluster validity</p></li>
<li><p><strong>cluster_logic</strong> (<em>module</em>) – user-defined constraint functions</p></li>
<li><p><strong>cluster_info</strong> (<em>pd.DataFrame</em>) – all-names file, with only the columns relevant for clustering</p></li>
<li><p><strong>uid_cols</strong> (<em>list</em>) – all-name columns with compare_type UniqueID</p></li>
<li><p><strong>eid_col</strong> (<em>str</em>) – all-name column with compare_type ExistingID</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.load_cluster_info">
<span class="sig-name descname"><span class="pre">load_cluster_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eid_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_logic</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.load_cluster_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.load_cluster_info" title="Permalink to this definition"></a></dt>
<dd><p>Read in the all_names information needed for cluster constraint checking. Columns
defined in the config as compare type UniqueID or ExistingID will automatically be loaded
(as strings, with missing values represented as NA). Other columns you wish to be loaded
should be defined in the user-defined <cite>get_columns_used()</cite> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>uid_cols</strong> (<em>list</em>) – all-name columns with compare_type UniqueID</p></li>
<li><p><strong>eid_col</strong> (<em>str</em>) – all-name column with compare_type ExistingID</p></li>
<li><p><strong>cluster_logic</strong> (<em>module</em>) – user-defined constraint functions</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>all-names file, with only the columns relevant for clustering</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>&lt;uid column(s)&gt;</p></td>
<td><p>columns with compare_type UniqueID</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;eid column(s)&gt;</p></td>
<td><p>columns with compare_type ExistingID</p></td>
</tr>
<tr class="row-even"><td><p>&lt;user-constraint column(s)&gt;</p></td>
<td><p>(optional) columns mentioned in <cite>get_columns_used()</cite></p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.get_ci_ix_map">
<span class="sig-name descname"><span class="pre">get_ci_ix_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.get_ci_ix_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.get_ci_ix_map" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.cluster.Cluster.cluster_potential_edges">
<span class="sig-name descname"><span class="pre">cluster_potential_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clusters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_assignments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_cluster_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_logic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eid_col</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/cluster.html#Cluster.cluster_potential_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.cluster.Cluster.cluster_potential_edges" title="Permalink to this definition"></a></dt>
<dd><p>For clusters by add potential edges to the cluster graph in order of importance, skipping those
that cause violations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clusters</strong> (<em>dict</em>) – maps a cluster id to a list of record ids – post initialization</p></li>
<li><p><strong>cluster_assignments</strong> (<em>dict</em>) – maps a record_id to a cluster_id – post initialization</p></li>
<li><p><strong>original_cluster_ids</strong> (<em>set</em>) – set: cluster ids that are already in use (only for incremental)</p></li>
<li><p><strong>cluster_info</strong> (<em>pd.DataFrame</em>) – <p>all-names file, with only the columns relevant for clustering</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>&lt;uid column(s)&gt;</p></td>
<td><p>columns with compare_type UniqueID</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;eid column(s)&gt;</p></td>
<td><p>columns with compare_type ExistingID</p></td>
</tr>
<tr class="row-even"><td><p>&lt;user-constraint column(s)&gt;</p></td>
<td><p>(optional) columns mentioned in <cite>get_columns_used()</cite></p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>potential_edges</strong> (<em>deque</em>) – each element is a dict version of a potential edge’s record</p></li>
<li><p><strong>cluster_logic</strong> (<em>module</em>) – user-defined constraint functions</p></li>
<li><p><strong>uid_cols</strong> (<em>list</em>) – all-name columns with compare_type UniqueID</p></li>
<li><p><strong>eid_col</strong> (<em>str</em>) – all-name column with compare_type ExistingID</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>maps record_id to cluster_id</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.generate_output">
<span id="namematch-generate-output"></span><h2><a class="reference internal" href="#module-namematch.generate_output" title="namematch.generate_output"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.generate_output</span></code></a><a class="headerlink" href="#module-namematch.generate_output" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.generate_output.GenerateOutput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.generate_output.</span></span><span class="sig-name descname"><span class="pre">GenerateOutput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_assignments_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">an_output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_uuid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_output.html#GenerateOutput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_output.GenerateOutput" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Parameters object</em>) – contains parameter values</p></li>
<li><p><strong>schema</strong> (<em>Schema object</em>) – contains match schema info (files to match, variables to use, etc.)</p></li>
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>cluster_assignments_file</strong> (<em>str</em>) – path to the cluster-assignments file</p></li>
<li><p><strong>an_output_file</strong> (<em>str</em>) – path to the all-names-with-clusterid file</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – path to final output directory</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.generate_output.GenerateOutput.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.generate_output.GenerateOutput.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_output.GenerateOutput.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_output.html#GenerateOutput.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_output.GenerateOutput.main" title="Permalink to this definition"></a></dt>
<dd><p>Read in the cluster assignments dictionary and use it to create all-names-with-cluster-id
and the “with-cluster-id” versions of input dataset.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_output.GenerateOutput.create_allnames_clusterid_file">
<span class="sig-name descname"><span class="pre">create_allnames_clusterid_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all_names_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_assignments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cleaned_col_names</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_output.html#GenerateOutput.create_allnames_clusterid_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_output.GenerateOutput.create_allnames_clusterid_file" title="Permalink to this definition"></a></dt>
<dd><p>Create all-names-with-clusterid dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>all_names_file</strong> (<em>str</em>) – path to the all-names file</p></li>
<li><p><strong>cluster_assignments</strong> (<em>dict</em>) – maps record_id to cluster_id</p></li>
<li><p><strong>cleaned_col_names</strong> (<em>list</em>) – all-name columns used in cosine blocking</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>all-names-with-cluster-id</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>file_type</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;fields for matching&gt;</p></td>
<td><p>both for the matching model and for constraint checking</p></td>
</tr>
<tr class="row-even"><td><p>blockstring</p></td>
<td><p>concatenated version of blocking columns (sep by ::)</p></td>
</tr>
<tr class="row-odd"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
<tr class="row-even"><td><p>cluster_id</p></td>
<td><p>unique person identifier, no missing values</p></td>
</tr>
</tbody>
</table>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_output.GenerateOutput.output_clusterid_files">
<span class="sig-name descname"><span class="pre">output_clusterid_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_assignments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_uuid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_output.html#GenerateOutput.output_clusterid_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_output.GenerateOutput.output_clusterid_files" title="Permalink to this definition"></a></dt>
<dd><p>For each input file, construct a matching output file that has the
cluster_id column, and write it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_files</strong> (<em>list</em><em> of </em><em>DataFile objects</em>) – contains info about each input file</p></li>
<li><p><strong>cluster_assignments</strong> (<em>dict</em>) – maps record_id to cluster_id</p></li>
<li><p><strong>output_dir</strong> (<em>str</em>) – the path that was supplied when the name match object was created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-namematch.utils.utils">
<span id="namematch-utils-utils"></span><h2><a class="reference internal" href="#module-namematch.utils.utils" title="namematch.utils.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.utils.utils</span></code></a><a class="headerlink" href="#module-namematch.utils.utils" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.utils.utils.StatLogFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">StatLogFilter</span></span><a class="reference internal" href="_modules/namematch/utils/utils.html#StatLogFilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.StatLogFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.utils.utils.StatLogFilter.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logRecord</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#StatLogFilter.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.StatLogFilter.filter" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.setup_logging">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">setup_logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_temp_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logging_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'INFO'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#setup_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.setup_logging" title="Permalink to this definition"></a></dt>
<dd><p>Setup logging configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_params</strong> (<em>dict</em>) – contains info for logging setup</p></li>
<li><p><strong>log_filepath</strong> (<em>str</em>) – path to store logs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.log_stat">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">log_stat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">human_desc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_desc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#log_stat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.log_stat" title="Permalink to this definition"></a></dt>
<dd><p>Log a statistic in the log and in the stats yaml.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>human_desc</strong> (<em>str</em>) – human readable description of the stat (could be a phrase)</p></li>
<li><p><strong>yaml_desc</strong> (<em>str</em>) – concise yaml-key compatible description of the stat</p></li>
<li><p><strong>value</strong> (<em>float</em><em> or </em><em>str</em>) – value of the stat</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.log_runtime_and_memory">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">log_runtime_and_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#log_runtime_and_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.log_runtime_and_memory" title="Permalink to this definition"></a></dt>
<dd><p>Decorator that logs time to execute functions and records max memory usage in GB.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>method</strong> (<em>function</em>) – function to measure/log runtime and memory usage</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>value returned by the function being decorated</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.load_yaml">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">load_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yaml_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#load_yaml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.load_yaml" title="Permalink to this definition"></a></dt>
<dd><p>Load a yaml file into a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>yaml_file</strong> (<em>str</em>) – path to yaml file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary version of input yaml file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.dump_yaml">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">dump_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_to_write</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#dump_yaml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.dump_yaml" title="Permalink to this definition"></a></dt>
<dd><p>Write a dictionary into a yaml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict_to_write</strong> (<em>dict</em>) – dict to write to yaml</p></li>
<li><p><strong>yaml_file</strong> (<em>str</em>) – path to output yaml file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.to_dict">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.to_dict" title="Permalink to this definition"></a></dt>
<dd><p>Convert an object (i.e. instance of a user-defined class) into a dictionary
to make writing easier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – class instance to convert to dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.create_nm_record_id">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">create_nm_record_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nickname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id_series</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#create_nm_record_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.create_nm_record_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.clean_nn_string">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">clean_nn_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#clean_nn_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.clean_nn_string" title="Permalink to this definition"></a></dt>
<dd><p>Removes JR, SR, II, extra spaces, etc. from nn strings. The original string
in the dataframe keeps punctuation and suffixes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<em>str</em>) – raw name value</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>clean version of the input name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.build_blockstring">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">build_blockstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocking_scheme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incl_ed_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#build_blockstring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.build_blockstring" title="Permalink to this definition"></a></dt>
<dd><p>Create blockstrings (values for blocking separated by ::, such as
JOHN::SMITH::1993-07-23) from all-names data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – <p>all-names table</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id</p></td>
<td><p>unique record identifier</p></td>
</tr>
<tr class="row-even"><td><p>file_type</p></td>
<td><p>either “new” or “existing”</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;fields for matching&gt;</p></td>
<td><p>both for the matching model and for constraint checking</p></td>
</tr>
<tr class="row-even"><td><p>drop_from_nm</p></td>
<td><p>flag, 1 if met any “to drop” criteria 0 otherwise</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>blocking_scheme</strong> (<em>dict</em>) – contains info about fields to block on</p></li>
<li><p><strong>incl_ed_string</strong> (<em>bool</em>) – True if the blockstring should end with the edit-distance string (e.g. dob)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>blockstrings</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.get_nn_string_from_blockstring">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">get_nn_string_from_blockstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blockstring</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#get_nn_string_from_blockstring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.get_nn_string_from_blockstring" title="Permalink to this definition"></a></dt>
<dd><p>Parse out the near-neighbor string (e.g. first-name and last-name) from a blockstring.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blockstring</strong> (<em>str</em>) – string with info for blocking (e.g. JOHN::SMITH::1993-07-23)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>near-neighbor string (e.g. JOHN::SMITH)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.get_ed_string_from_blockstring">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">get_ed_string_from_blockstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blockstring</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#get_ed_string_from_blockstring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.get_ed_string_from_blockstring" title="Permalink to this definition"></a></dt>
<dd><p>Parse out the edit-distance string (e.g. dob) from a blockstring.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blockstring</strong> (<em>str</em>) – string with info for blocking (e.g. JOHN::SMITH::1993-07-23)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>edit-distance string (e.g. 1993-07-23)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.get_endpoints">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">get_endpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_chunks</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#get_endpoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.get_endpoints" title="Permalink to this definition"></a></dt>
<dd><p>Divide a number into some number of chunks/intervals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – number to divide into chunks/intervals</p></li>
<li><p><strong>num_chunks</strong> (<em>int</em>) – number of chunks/intervals to create</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of start and end points to cover entire range</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of int tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.load_sample">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">load_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#load_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.load_sample" title="Permalink to this definition"></a></dt>
<dd><p>Load a random sample of a csv into pandas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csv_path</strong> (<em>str</em>) – path to csv file</p></li>
<li><p><strong>pct</strong> (<em>float</em>) – what percent of the file to randomly read</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – columns to load</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>random subset of the input csv</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.load_csv_list">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">load_csv_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditions_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#load_csv_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.load_csv_list" title="Permalink to this definition"></a></dt>
<dd><p>Read a list of .csv files into a single pd.DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_file_list</strong> (<em>list</em><em> of </em><em>str</em>) – list of .csv files to read</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – columns to keep in the dataframe</p></li>
<li><p><strong>conditions_dict</strong> (<em>dict</em>) – conditions for row filtering</p></li>
<li><p><strong>sample</strong> (<em>float</em>) – share of rows to randomly sample from the final dataframe</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered sampled dataframe read in from the .csv files</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.load_parquet">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">load_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditions_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#load_parquet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.load_parquet" title="Permalink to this definition"></a></dt>
<dd><p>Read a .parquet file into a pd.DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_file</strong> (<em>str</em>) – .parquet file to read</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – columns to keep in the dataframe</p></li>
<li><p><strong>conditions_dict</strong> (<em>dict</em>) – conditions for row filtering</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered dataframe read in from the .parquet file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.load_parquet_list">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">load_parquet_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditions_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#load_parquet_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.load_parquet_list" title="Permalink to this definition"></a></dt>
<dd><p>Read a list of .parquet files into a single pd.DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_file_list</strong> (<em>list</em><em> of </em><em>str</em>) – list of .parquet files to read</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – columns to keep in the dataframe</p></li>
<li><p><strong>conditions_dict</strong> (<em>dict</em>) – conditions for row filtering</p></li>
<li><p><strong>sample</strong> (<em>float</em>) – share of rows to randomly sample from the final dataframe</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered sampled dataframe read in from the .parquet files</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.determine_model_to_use">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">determine_model_to_use</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dr_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#determine_model_to_use"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.determine_model_to_use" title="Permalink to this definition"></a></dt>
<dd><p>Assign a model to each data row based on which fields are available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dr_df</strong> (<em>pd.DataFrame</em>) – <p>data rows</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>record_id_1</p></td>
<td><p>unique identifier for the first record in the pair</p></td>
</tr>
<tr class="row-even"><td><p>record_id_2</p></td>
<td><p>unique identifier for the second record in the pair</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;distance metric fields&gt;</p></td>
<td><p>distance metrics between the two records’ matching fields</p></td>
</tr>
<tr class="row-even"><td><p>label</p></td>
<td><p>flag, “1” if the records are a match, “0” if not, “” if unknown</p></td>
</tr>
</tbody>
</table>
</p></li>
<li><p><strong>model_info</strong> (<em>dict</em>) – information about models and their universes</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – flag controlling logging statement (set according to which function calls this one)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>string indicating which model to use for a given record pair</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.load_models">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">load_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_info_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#load_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.load_models" title="Permalink to this definition"></a></dt>
<dd><p>Load pre-trained models (selection and match, as available)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_info_file</strong> (<em>str</em>) – path to original model config</p></li>
<li><p><strong>selection</strong> (<em>bool</em>) – if True, try to load a corresponding selection model</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>maps model name (e.g. basic or no-dob) to a fit model object
dict: dict with information about how to fit the model</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.recursively_convert_tuple_to_list">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">recursively_convert_tuple_to_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#recursively_convert_tuple_to_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.recursively_convert_tuple_to_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.luigi_dict_parameter_to_dict">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">luigi_dict_parameter_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#luigi_dict_parameter_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.luigi_dict_parameter_to_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.filename_friendly_hash">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">filename_friendly_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#filename_friendly_hash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.filename_friendly_hash" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.load_logging_params">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">load_logging_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logging_params_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#load_logging_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.load_logging_params" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.reformat_dict">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">reformat_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#reformat_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.reformat_dict" title="Permalink to this definition"></a></dt>
<dd><p>make all the string values in the yaml file have double quotes</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="namematch.utils.utils.camel_to_snake">
<span class="sig-prename descclassname"><span class="pre">namematch.utils.utils.</span></span><span class="sig-name descname"><span class="pre">camel_to_snake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/utils/utils.html#camel_to_snake"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.utils.utils.camel_to_snake" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-namematch.generate_report">
<span id="namematch-generate-report"></span><h2><a class="reference internal" href="#module-namematch.generate_report" title="namematch.generate_report"><code class="xref py py-mod docutils literal notranslate"><span class="pre">namematch.generate_report</span></code></a><a class="headerlink" href="#module-namematch.generate_report" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="namematch.generate_report.IgnoreBlackWarning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.generate_report.</span></span><span class="sig-name descname"><span class="pre">IgnoreBlackWarning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_report.html#IgnoreBlackWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_report.IgnoreBlackWarning" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Filter</span></code></p>
<p>Initialize a filter.</p>
<p>Initialize with the name of the logger which, together with its
children, will have its events allowed through the filter. If no
name is specified, allow every event.</p>
<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_report.IgnoreBlackWarning.filter">
<span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_report.html#IgnoreBlackWarning.filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_report.IgnoreBlackWarning.filter" title="Permalink to this definition"></a></dt>
<dd><p>Determine if the specified record is to be logged.</p>
<p>Returns True if the record should be logged, or False otherwise.
If deemed appropriate, the record may be modified in-place.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="namematch.generate_report.GenerateReport">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">namematch.generate_report.</span></span><span class="sig-name descname"><span class="pre">GenerateReport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_report.html#GenerateReport"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_report.GenerateReport" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">NamematchBase</span></code></p>
<p>params (Parameters object): contains parameter values
schema (Schema object): contains match schema info (files to match, variables to use, etc.)
report_file (str): full path of the report html file</p>
<dl class="py property">
<dt class="sig sig-object py" id="namematch.generate_report.GenerateReport.output_files">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_files</span></span><a class="headerlink" href="#namematch.generate_report.GenerateReport.output_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="namematch.generate_report.GenerateReport.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/namematch/generate_report.html#GenerateReport.main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#namematch.generate_report.GenerateReport.main" title="Permalink to this definition"></a></dt>
<dd><p>Main method for each task class which is called in namematcher.NameMatcher</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="algorithm.html" class="btn btn-neutral float-left" title="Detailed Algorithm Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Melissa McNeill, Eddie Tzu-Yun Lin, Zubin Jelveh.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>